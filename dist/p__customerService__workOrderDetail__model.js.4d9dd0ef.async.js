(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"5nAr":function(e,t,a){"use strict";a.r(t);var n=a("gWZ8"),r=a.n(n),s=a("d6i3"),o=a.n(s),i=a("GIZZ"),c=a.n(i),d=a("3Unq");t["default"]=c()(d["a"],{namespace:"workOrderDetail",state:{details:{},relations:[],conversations:{}},subscriptions:{},effects:{getDetails:o.a.mark(function e(t,a){var n,r,s,i,c,d;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.put,s=a.call,a.select,i=n.worksheet_code,e.next=5,s($api.workorder.details,{worksheet_code:i});case 5:return c=e.sent,d=c.data,e.next=9,r({type:"updateState",payload:{details:d}});case 9:case"end":return e.stop()}},e)}),getConversations:o.a.mark(function e(t,a){var n,s,i,c,d,p,l,u,w,v,k,g,y,f,h,_,x,m,b,D,S,Z;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.put,i=a.call,c=a.select,e.next=4,c(function(e){return e.workOrderDetail});case 4:return d=e.sent,p=d.conversations,l=p.msg_list,u=void 0===l?[]:l,w=n.conversation_key,v=n.page,k=void 0===v?1:v,g=n.page_size,y=void 0===g?1:g,f=n.keywords,h=void 0===f?"":f,_={conversation_key:w,keywords:h,page_size:y,page:k},e.next=11,i($api.workorder.conversations,_);case 11:return x=e.sent,m=x.data,b=m.msg_list,D=void 0===b?[]:b,S=m.total,Z={msg_list:1===k?D:[].concat(r()(u),r()(D)),total:S,loading:!1},e.next=17,s({type:"updateState",payload:{conversations:Z}});case 17:case"end":return e.stop()}},e)}),getRelations:o.a.mark(function e(t,a){var n,r,s,i,c,d;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.put,s=a.call,a.select,i=n.worksheet_code,e.next=5,s($api.workorder.getRelations,{worksheet_code:i});case 5:return c=e.sent,d=c.data,e.next=9,r({type:"updateState",payload:{relations:d}});case 9:case"end":return e.stop()}},e)})}})}}]);