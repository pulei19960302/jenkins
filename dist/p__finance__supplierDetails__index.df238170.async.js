(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{2209:function(e,t,n){e.exports={titles:"titles___y4uyO",detailsTable:"detailsTable___ej7F4"}},nmmX:function(e,t,n){"use strict";n.r(t);var a,r,l,i=n("p0pE"),o=n.n(i),s=n("2Taf"),u=n.n(s),c=n("vZ4D"),p=n.n(c),d=n("MhPg"),m=n.n(d),f=n("l4Ni"),y=n.n(f),h=n("ujKo"),v=n.n(h),E=n("9UV2"),g=n.n(E),x=n("MuoO"),_=n("q1tI"),D=n.n(_),b=n("Kvkj"),k=n("gWZ8"),w=n.n(k),I=n("wd/R"),L=n.n(I),M=n("tUHX"),T=n("xvlK"),R=n("F1Dt"),O=function(e){var t=e&&Object.keys(e).reduce(function(t,n){return t.concat([{value:n,name:e[n]}])},[]),n=t?[{value:"",name:"\u5168\u90e8\u4ea4\u6613\u7c7b\u578b"}].concat(w()(t)):[{value:"",name:"\u5168\u90e8\u4ea4\u6613\u7c7b\u578b"}];return[{key:"order_no",placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7"},{key:"time",searchKeys:["update_start_time","update_end_time"],placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],type:"dateRange",inputProps:{ranges:R["c"],disabledDate:function(e){return e<L()().subtract(3,"months")||e>L()().endOf("day")}}},{key:"type",placeholder:"\u5168\u90e8\u4ea4\u6613\u7c7b\u578b",type:"enum",enums:n}]},S=function(e){var t=this;return[{title:"\u5546\u54c1",dataIndex:"goods_name",width:"200",render:function(e){return D.a.createElement("div",{style:{width:"290px"}},D.a.createElement(b["r"],{text:e,maxLine:"1"}))}},{title:"\u5546\u54c1\u6570\u91cf",dataIndex:"goods_num"},{title:"\u4ea4\u6613\u5355\u53f7",dataIndex:"order_no",render:function(e,n){return D.a.createElement("a",{onClick:function(){t.handleRouteToOrder(n)}},e)}},{title:"\u4ea4\u6613\u7c7b\u578b",dataIndex:"type",render:function(t){return D.a.createElement("span",null,e&&e[t])}},{title:"\u7ed3\u7b97\u91d1\u989d",dataIndex:"amount",render:function(e){return e<0?D.a.createElement("div",null,D.a.createElement("span",null,D.a.createElement(M["a"],{style:{color:"#d9001b",fontSize:"12px"}}),"\xa0",g.a.formatMoney(Math.abs(e),"\uffe5"))):D.a.createElement("div",null,D.a.createElement("span",null,D.a.createElement(T["a"],{style:{color:"#70b603",fontSize:"12px"}}),"\xa0",g.a.formatMoney(e,"\uffe5")))}},{title:"\u5546\u54c1\u5355\u4ef7",dataIndex:"goods_purchase",render:function(e){return D.a.createElement("span",null,g.a.formatMoney(e,"\uffe5"))}},{title:"\u4ea4\u6613\u65f6\u95f4",dataIndex:"updated_at",render:function(e){return D.a.createElement("span",null,e&&L()(1e3*e).format(R["d"].DATETIME))}}]},j=n("7Qib"),q=n("2209"),P=n.n(q);function K(e){return function(){var t,n=v()(e);if(F()){var a=v()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return y()(this,t)}}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var N=(a=Object(x["connect"])(function(e){var t=e.suppilerDetails,n=e.loading;return{suppilerDetails:t,loading:n}}),a((l=function(e){m()(n,e);var t=K(n);function n(){var e;u()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.onSearch=function(t){var n=e.props.dispatch;e.props.history.location.query;n({type:"suppilerDetails/onSearch",payload:t}),n({type:"suppilerDetails/getList",payload:t})},e.getList=function(t){var n=e.props.dispatch;n({type:"suppilerDetails/getList",payload:t})},e.handleRouteToOrder=function(e){var t=e.order_id,n=void 0===t?"":t;j["j"].push({pathname:"/order/orderDetail/".concat(n)})},e}return p()(n,[{key:"componentDidMount",value:function(){var e=this.props.history.location.query,t=void 0===e?{}:e;t&&this.getList(t)}},{key:"renderTitles",value:function(){var e=this.props.history.location.query,t=void 0===e?{}:e,n=t||{},a=n.supplier_id,r=void 0===a?"":a,l=this.props.suppilerDetails,i=void 0===l?{}:l,o=i.sum,s=void 0===o?{}:o,u=s||{},c=u.total,p=void 0===c?"":c,d=u.settle,m=void 0===d?"":d,f=u.settlement,y=void 0===f?"":f;return D.a.createElement("div",{className:P.a.titles},D.a.createElement("div",null,D.a.createElement("span",null,"\u4f9b\u5e94\u5546\xa0(ID)\xa0:\xa0\xa0"),D.a.createElement("span",null,r)),D.a.createElement("div",null,D.a.createElement("span",null,"\u5f85\u7ed3\u8ba2\u5355\xa0:\xa0\xa0"),D.a.createElement("span",null,g.a.formatNumber(p))),D.a.createElement("div",null,D.a.createElement("span",null,"\u5f85\u7ed3\u91d1\u989d\xa0:\xa0\xa0"),D.a.createElement("span",null,g.a.formatMoney(m,"\uffe5"))),D.a.createElement("div",null,D.a.createElement("span",null,"\u5df2\u7ed3\u91d1\u989d\xa0:\xa0\xa0"),D.a.createElement("span",null,g.a.formatMoney(y,"\uffe5"))))}},{key:"renderList",value:function(){var e=this.props.history.location.query,t=void 0===e?{}:e,n=this.props,a=n.suppilerDetails,r=n.loading,l=a.list,i=void 0===l?[]:l,s=a.pagination,u=a.query,c=void 0===u?{}:u,p=a.type,d=o()({},t,c),m={type:"export",name:"\u5bfc\u51fa",url:$api.finance.detailExport.url,query:d,permission:Object(R["m"])("detailExport")},f={search:d,BtnGroup:D.a.createElement(b["a"],{btns:[m]})};return D.a.createElement(b["i"],{dataSource:i,pagination:s,searchFields:O(p),columns:S.call(this,p),loading:r.effects["suppilerDetails/getList"],onSearch:this.onSearch,getList:this.getList,searchProp:f,classnames:P.a.detailsTable})}},{key:"render",value:function(){return D.a.createElement(b["x"],{inner:!0},this.renderTitles(),this.renderList())}}]),n}(_["PureComponent"]),r=l))||r);t["default"]=N}}]);