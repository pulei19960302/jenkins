(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{xzVy:function(e,t,n){"use strict";n.r(t);var a=n("jHYr"),r=n.n(a),o=n("p0pE"),s=n.n(o),u=n("d6i3"),c=n.n(u),p=n("GIZZ"),i=n.n(p),d=n("7Qib"),l=n("3Unq");n("rogm");t["default"]=i()(l["a"],{namespace:"couponAdd",state:{couponForm:{},productList:[],userContentFields:[]},subscriptions:{setup:function(e){e.dispatch;var t=e.history;t.listen(function(e){var t=e.pathname;Object(d["g"])("/marketing/couponAdd",t)})}},effects:{query:c.a.mark(function e(t,n){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.payload,n.call,n.put;case 2:case"end":return e.stop()}},e)}),updateCouponForm:c.a.mark(function e(t,n){var a,r,o,u,p,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,e.next=4,o(function(e){return e.couponAdd});case 4:return u=e.sent,p=u.couponForm,i=void 0===p?{}:p,e.next=9,r({type:"updateState",payload:{couponForm:s()({},i,a||{})}});case 9:case"end":return e.stop()}},e)}),getProductsByIds:c.a.mark(function e(t,n){var a,r,o,s,u,p;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.put,s=a.goods_ids,e.next=5,r($api.product.productGetByIds,{goods_ids:s});case 5:return u=e.sent,p=u.data,e.next=9,o({type:"updateState",payload:{productList:p}});case 9:case"end":return e.stop()}},e)}),getUserContentFields:c.a.mark(function e(t,n){var a,o,s,u,p,i,d,l,w;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r()(t),a=n.call,o=n.put,e.next=4,a($api.user.userLevelList,{cache:!0});case 4:return s=e.sent,u=s.data,p=void 0===u?{}:u,i=p||{},d=i.items,l=void 0===d?[]:d,w=l&&l.map(function(e){return{name:e.name,value:e.id}}),e.next=11,o({type:"updateState",payload:{userContentFields:w}});case 11:case"end":return e.stop()}},e)})}})}}]);