(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[51],{F9KV:function(e,t,a){"use strict";a.r(t);var r=a("p0pE"),n=a.n(r),o=a("gWZ8"),s=a.n(o),i=a("2Taf"),l=a.n(i),c=a("vZ4D"),u=a.n(c),p=a("MhPg"),d=a.n(p),f=a("l4Ni"),m=a.n(f),h=a("ujKo"),g=a.n(h),y=a("q1tI"),v=a.n(y),E=a("MuoO"),L=a("Kvkj"),b=a("n1G/"),M=(a("R9oj"),a("ECub")),S=(a("T2oS"),a("W9HT")),C=a("jehZ"),N=a.n(C),_=a("eHn4"),R=a.n(_),P=a("rlhR"),k=a.n(P),A=a("7Qib"),w=a("TRq2"),D=a("H8hH"),T=a("Kv5+"),j=a.n(T);function x(e){return function(){var t,a=g()(e);if(H()){var r=g()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return m()(this,t)}}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var K,q,O,I=function(e){d()(a,e);var t=x(a);function a(){var e;l()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),e.state={order:{},cancelOrderModal:!1,modifyAddressModal:!1,modifyLogisticsModal:!1,applyAfterSaleModal:!1,modifyRemarksModal:!1,logisticsTrailModal:!1,applyAfterSaleProps:{}},e.checkApply=function(t){$api.order.checkApply({order_id:t.id}).then(function(a){var r=a.data;e.setState({applyAfterSaleProps:{goods_info:r.goods_info,order:t}}),e.showModal("applyAfterSaleModal")})},e.showModal=function(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.setState((a={},R()(a,t,!0),R()(a,"order",r),a))},e.hideModal=function(t){e.setState(R()({},t,!1))},e.getCommonProps=function(t){return{onCancel:function(){e.hideModal(t)},order:e.state.order,modalVisible:e.state[t],successCallback:e.props.getList}},e.getListRender=function(){var t=e.props.list;return t.map(function(t){var a={order:t,context:k()(e)};return v.a.createElement(D["h"],N()({},a,{key:t.id}))})},e}return u()(a,[{key:"goDetail",value:function(e){A["j"].push({pathname:"/order/orderDetail/".concat(e)})}},{key:"render",value:function(){var e=this.props,t=e.list,a=void 0===t?[]:t,r=e.loading;return v.a.createElement(v.a.Fragment,null,v.a.createElement(D["c"],{fields:Object(w["a"])()}),this.getListRender(),r&&v.a.createElement(S["a"],{className:j.a.spin}),!a.length&&!r&&v.a.createElement(M["a"],{className:j.a.spin,image:M["a"].PRESENTED_IMAGE_SIMPLE}),v.a.createElement(D["d"],this.getCommonProps("logisticsTrailModal")),v.a.createElement(D["g"],this.getCommonProps("modifyRemarksModal")),v.a.createElement(D["b"],N()({},this.getCommonProps("applyAfterSaleModal"),this.state.applyAfterSaleProps)),v.a.createElement(D["f"],this.getCommonProps("modifyLogisticsModal")),v.a.createElement(D["e"],this.getCommonProps("modifyAddressModal")))}}]),a}(y["PureComponent"]),J=I,Z=a("9UV2"),z=a.n(Z),B=function(e){var t=e.count,a=e.goods_num,r=e.price_sum;return v.a.createElement("div",{className:j.a.resultBar},v.a.createElement("span",{className:j.a.resultLabel},"\u8ba2\u5355\u6570\uff1a"),v.a.createElement("span",{className:j.a.resultNum},z.a.formatNumber(t)),v.a.createElement("span",{className:j.a.resultLabel},"\u5546\u54c1\u6570\u91cf\uff1a"),v.a.createElement("span",{className:j.a.resultNum},z.a.formatNumber(a)),v.a.createElement("span",{className:j.a.resultLabel},"\u8ba2\u5355\u91d1\u989d\uff1a"),v.a.createElement("span",{className:j.a.resultNum},z.a.formatMoney(r,"\uffe5")))},F=B;function V(e){return function(){var t,a=g()(e);if(G()){var r=g()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return m()(this,t)}}function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var W=(K=Object(E["connect"])(function(e){var t=e.orderList,a=e.loading;return{orderList:t,loading:a}}),K((O=function(e){d()(a,e);var t=V(a);function a(e){var r;return l()(this,a),r=t.call(this,e),r.getList=function(e){var t=r.props.dispatch;t({type:"orderList/getList",payload:e})},r.tabsChange=function(e){var t=e.value,a=r.props.dispatch;a({type:"orderList/updateState",payload:{status:t}}),a({type:"orderList/getList",payload:{page:1}}),a({type:"orderList/orderSta"})},r.handleSearch=function(e){var t=r.props.dispatch;t({type:"orderList/onSearch",payload:e}),t({type:"orderList/getList",payload:{page:1}})},r.pageChange=function(e,t){var a=r.props.dispatch;a({type:"orderList/getList",payload:{page:e,pageSize:t}})},r.state={},r}return u()(a,[{key:"getTabs",value:function(){var e=this.props.orderList.tabsNum,t=s()(b["b"]);return e&&(t=t.map(function(t){var a=n()({},t);return e[a.key]&&(a.title="".concat(a.title,"(").concat(e[a.key].num,")")),a})),t}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,r=t.orderList,o=r.pagination,s=r.result,i=r.list,l=r.query,c=r.status,u={search:l,fields:Object(b["a"])(),onSearch:this.handleSearch},p=[{type:"export",url:"/order/export",query:l,permission:$api.order.orderImport.permission()}].filter(function(e){return e.permission}),d={list:i,loading:a.effects["orderList/getList"],getList:this.getList},f=n()({},o,{onChange:this.pageChange,onShowSizeChange:function(t,a){return e.pageChange(1,a)}});return v.a.createElement(L["x"],{inner:!0},v.a.createElement(L["E"],{defaultActiveKey:c,tabs:this.getTabs(),onChange:this.tabsChange,btns:p}),v.a.createElement(L["C"],u),v.a.createElement(F,s),v.a.createElement(J,d),v.a.createElement(L["z"],{paginationProps:f}))}}]),a}(y["PureComponent"]),q=O))||q);t["default"]=W},"Kv5+":function(e,t,a){e.exports={resultBar:"resultBar___3qMHJ",resultLabel:"resultLabel___2HZm9",resultNum:"resultNum___3MD4C",spin:"spin___13EJF"}}}]);