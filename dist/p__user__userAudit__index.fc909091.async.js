(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[93],{tv3s:function(e,t,n){"use strict";n.r(t);var a,i,r,u=n("2Taf"),s=n.n(u),c=n("vZ4D"),o=n.n(c),l=n("MhPg"),d=n.n(l),p=n("l4Ni"),m=n.n(p),f=n("ujKo"),h=n.n(f),v=n("MuoO"),y=n("q1tI"),g=n.n(y),_=n("Kvkj"),x=n("KLZ9"),k=(n("/zsF"),n("PArb")),A=(n("P2fV"),n("NJEC")),R=(n("Awhp"),n("KrTs")),b=[{type:"mutipulLevelInput",enums:[{value:"member_id",name:"\u7528\u6237ID"},{value:"member_name",name:"\u7528\u6237\u540d\u79f0"},{value:"mobile",name:"\u624b\u673a\u53f7\u7801"}],placeholders:["\u8bf7\u9009\u62e9","\u8bf7\u8f93\u5165"],searchKeys:["user_search_type","user_search_input"],key:"searchUserLevel",itemCol:8,initialValue:["member_id",""]},{type:"enum",key:"status",placeholder:"\u72b6\u6001",enums:[{value:-1,name:"\u5168\u90e8"},{value:0,name:"\u5f85\u5ba1\u6838"},{value:1,name:"\u5df2\u901a\u8fc7"},{value:2,name:"\u5df2\u9a73\u56de"}]},{key:"time",searchKeys:["start_date","end_date"],placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],type:"dateRange"}],I=function(){var e=this;return[{title:"\u7528\u6237ID",dataIndex:"member_id",width:80},{title:"\u7528\u6237\u6635\u79f0",dataIndex:"nickname"},{title:"\u624b\u673a\u53f7\u7801",dataIndex:"phone"},{title:"\u7d2f\u8ba1\u79ef\u5206",dataIndex:"total_integral"},{title:"\u5f53\u524d\u7c7b\u578b",dataIndex:"current_member_type_name"},{title:"\u7533\u8bf7\u7c7b\u578b",dataIndex:"next_member_type_name"},{title:"\u72b6\u6001",dataIndex:"result",render:function(e){return g.a.createElement(R["a"],{color:{0:"#cccccc",1:"green",2:"red"}[e],text:{0:"\u5f85\u5ba1\u6838",1:"\u5df2\u901a\u8fc7",2:"\u5df2\u9a73\u56de"}[e]})}},{title:"\u7533\u8bf7\u65f6\u95f4",dataIndex:"created_at"},{title:"\u64cd\u4f5c",dataIndex:"operation",width:150,render:function(t,n){return 0===n.result?g.a.createElement("div",null,$api.user.auditAdopt.permission()&&g.a.createElement(A["a"],{title:"\u4f60\u786e\u5b9a\u8981\u901a\u8fc7/\u9a73\u56de\u7533\u8bf7\uff1f",placement:"topRight",onConfirm:function(){e.auditAdopt(String(n.id))},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},g.a.createElement("a",null,"\u901a\u8fc7")),$api.user.auditAdopt.permission()&&$api.user.auditRefuse.permission()&&g.a.createElement(k["a"],{type:"vertical"}),$api.user.auditRefuse.permission()&&g.a.createElement(A["a"],{title:"\u4f60\u786e\u5b9a\u8981\u901a\u8fc7/\u9a73\u56de\u7533\u8bf7\uff1f",placement:"topRight",onConfirm:function(){e.auditRefuse(String(n.id))},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},g.a.createElement("a",{className:"fcred5"},"\u9a73\u56de"))):null}}]};function L(e){return function(){var t,n=h()(e);if(E()){var a=h()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return m()(this,t)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var w=(a=Object(v["connect"])(function(e){var t=e.user,n=e.userAudit,a=e.loading;return{user:t,loading:a,userAudit:n}}),a((r=function(e){d()(n,e);var t=L(n);function n(e){var a;return s()(this,n),a=t.call(this,e),a.getList=function(e){var t=a.props.dispatch;t({type:"userAudit/getList",payload:e})},a.auditAdopt=function(e){$api.user.auditAdopt({verify_id_str:e},{success:!0}).then(function(e){a.getList()})},a.auditRefuse=function(e){$api.user.auditRefuse({verify_id_str:e},{success:!0}).then(function(e){a.getList()})},a.getArrDifference=function(e,t){return e.concat(t).filter(function(e,t,n){return n.indexOf(e)===n.lastIndexOf(e)})},a.mutipulClick=function(e,t){var n=t.join(",");switch(e){case"adopt":a.auditAdopt(n);break;case"refuse":a.auditRefuse(n);break}},a.onSearch=function(e){var t=a.props.dispatch;t({type:"userList/onSearch",payload:e}),t({type:"userAudit/getList",payload:e})},a.state={},a}return o()(n,[{key:"render",value:function(){var e=this.getList,t=this.mutipulClick,n=this.onSearch,a=this.props,i=a.userAudit,r=a.loading,u=i.list,s=i.pagination,c=[{name:"\u901a\u8fc7",key:"adopt",permission:$api.user.auditAdopt.permission()},{name:"\u9a73\u56de",key:"refuse",permission:$api.user.auditRefuse.permission()}].filter(function(e){return e.permission||void 0===e.permission});return g.a.createElement(_["x"],{inner:!0},g.a.createElement(_["y"],null),g.a.createElement(x["a"],{dataSource:u,getList:e,pagination:s,loading:r.effects["userAudit/getList"],columns:I.call(this),mutipulBtns:c,mutipulClick:t,searchFields:b,onSearch:n,onDisabled:function(e){var t=e.result;return 1===t||2===t}}))}}]),n}(y["PureComponent"]),i=r))||i);t["default"]=w}}]);