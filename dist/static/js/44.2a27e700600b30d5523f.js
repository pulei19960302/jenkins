webpackJsonp([44],{B6XD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("4YfN"),r=a.n(o),l=a("aA9S"),n=a.n(l),i=a("lC5x"),s=a.n(i),c=a("J0Oq"),p=a.n(c),u=(a("czH5"),{name:"rebateDetails",data:function(){return{loading:!1,dialogVisible:!1,current:1,pageSize:30,count:0,query:{},exportOptions:[],tableData:[],multipleSelection:[],value2:"",searchOPtions:[{type:"input",key:"uid",placeholder:"下单人ID"},{type:"input",key:"to_id",placeholder:"收益人ID"},{type:"input",key:"order_id",placeholder:"订单编号"},{type:"input",key:"goods_id",placeholder:"商品ID"},{type:"select",key:"type",placeholder:"返利类型",options:[{label:"钻石差价",value:12},{label:"白银平级返",value:13},{label:"白银差价",value:15},{label:"黄金差价",value:16},{label:"黄金平级返",value:17},{label:"钻石差价扣除",value:22},{label:"白银平级返扣除",value:23},{label:"白银差价扣除",value:25},{label:"黄金差价扣除",value:26},{label:"黄金平级返扣除",value:27}]},{type:"select",key:"is_pay",placeholder:"返利状态",options:[{label:"待结算",value:1},{label:"已结算",value:2},{label:"待付款",value:3},{label:"已删除",value:0}]},{type:"datetimerange",key:"start_at-end_at",placeholder:"创建时间"},{type:"datetimerange",key:"rebate_start-rebate_end",placeholder:"返利时间"}],value:"",form:{form:{order_id:"",password:""}},rules:{order_id:[{required:!0,message:"必填项",trigger:"change"}],password:[{required:!0,message:"必填项",trigger:"change"}]},options4:[],options5:[],list:[],total_money:0}},created:function(){this.getData(),this.balanceRecordType()},methods:{balanceRecordType:function(){var e=this;return p()(s.a.mark(function t(){var a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.finance.balanceRecordType();case 2:a=t.sent,o=a.data,e.options5=o;case 5:case"end":return t.stop()}},t,e)}))()},updatemoney:function(){var e=this;return p()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.form.validate(function(){var t=p()(s.a.mark(function t(a){var o,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}t.prev=1,o=n()({},e.form),r=e.$api.finance.manualRebate(o),0==r.code&&(e.resetForm(),e.getData()),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0);case 10:case"end":return t.stop()}},t,e,[[1,7]])}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},resetForm:function(){this.$refs.form.resetFields(),this.dialogVisible=!1},remoteMethod:function(e){var t=this;return p()(s.a.mark(function a(){var o,r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""===e){a.next=10;break}return t.loading=!0,a.next=4,t.$api.finance.balanceRecordUser({name:e});case 4:o=a.sent,r=o.data,t.list=r.map(function(e){return{value:e.id,label:e.name}}),setTimeout(function(){t.loading=!1,t.options4=t.list.filter(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})},200),a.next=11;break;case 10:t.options4=[];case 11:case"end":return a.stop()}},a,t)}))()},handleSelectionChange:function(e){this.multipleSelection=e},handlePageChange:function(e){this.current=e,this.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},handelSearch:function(e,t){var a=this;({search:function(){a.query=r()({},t),a.current=1,a.getData()},reset:function(){a.query={},a.pageSize=10,a.current=1,a.getData()}})[e]()},getData:function(){var e=this;return p()(s.a.mark(function t(){var a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$api.finance.orderclearingList(r()({},e.query,{pageSize:e.pageSize,page:e.current}));case 4:a=t.sent,o=a.data,e.tableData=o.items,e.count=o.count,e.total_money=o.total_money,e.exportOptions=o.fields||[],e.loading=!1,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.loading=!1;case 16:case"end":return t.stop()}},t,e,[[0,13]])}))()},handelClick:function(){}}}),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rebateDetail br4"},[a("Search",{attrs:{searchOPtions:e.searchOPtions},on:{searchCallback:e.handelSearch}}),e._v(" "),a("div",{staticStyle:{padding:"0 16px"}},[a("div",{staticClass:"summaryBar"},[a("i",{staticClass:"el-icon-tickets mr6 fs18 fcblue vamiddle"}),e._v("\n                符合搜索条件的数据："),a("span",{staticClass:"fcorange"},[e._v(e._s(e.count))]),e._v(" "),a("span",[e._v("条")]),e._v("\n                总金额："),a("span",{staticClass:"fcorange"},[e._v(e._s(e.total_money))])])]),e._v(" "),a("div",{staticStyle:{padding:"0 16px"}},[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"element-loading-spinner":"el-icon-loading","highlight-current-row":!0,border:"",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{width:"100",fixed:"left",prop:"order_id",label:"订单ID"}}),e._v(" "),a("el-table-column",{attrs:{width:"100","show-overflow-tooltip":"",prop:"uid",label:"下单人ID"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"下单人用户名",prop:"buyer_nickname","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{width:"100",prop:"goods_id",label:"商品ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_title","show-overflow-tooltip":"",label:"商品"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",prop:"to_id","show-overflow-tooltip":"",label:"收益人ID"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",label:"收益人用户名",prop:"username","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"返利类型",prop:"type_name","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"来源","show-overflow-tooltip":"",prop:"order_sn"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",align:"right",label:"资金（元）",prop:"money","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"返利状态",prop:"pay_name","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"创建时间",prop:"created_at","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"返利时间",prop:"pay_time","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{width:"130",label:"备注",prop:"remark","show-overflow-tooltip":""}})],1)]],2),e._v(" "),a("Pagination",{attrs:{current:e.current,pageSize:e.pageSize,count:e.count},on:{pageChangeCBK:e.handlePageChange,sizeChangeCBK:e.handleSizeChange}}),e._v(" "),a("el-dialog",{attrs:{title:"手动返利",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px","label-position":"right"},on:{close:e.resetForm}},[a("el-form-item",{attrs:{label:"订单号：",prop:"order_id"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入订单号",autocomplete:"off"},model:{value:e.form.order_id,callback:function(t){e.$set(e.form,"order_id",t)},expression:"form.order_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updatemoney()}}},[e._v("\n                    确定\n                ")])],1)],1)],1)},staticRenderFns:[]};var f=a("C7Lr")(u,d,!1,function(e){a("hskO")},"data-v-7e0881fb",null);t.default=f.exports},hskO:function(e,t){}});