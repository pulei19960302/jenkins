webpackJsonp([13],{"5SZT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zsLt"),i=n.n(r),s=n("IHPB"),c=n.n(s),o=n("lC5x"),a=n.n(o),u=n("J0Oq"),f=n.n(u),l={name:"permissions",data:function(){return{id:this.$route.params.id,checkeAll:!1,checkAll:!1,isIndeterminate:!1,permissions:[]}},watch:{checkeAll:function(t){this.recursiveSetAll(this.permissions,t)}},created:function(){this.getData()},methods:{handleFirstChange:function(t,e){this.permissions=this.recursiveSet(this.permissions,e,t,1)},handleSecondChange:function(t,e,n){this.permissions=this.recursiveSet2(this.permissions,e,t,n)},recursiveSetAll:function(t,e){var n=this;t.map(function(t){t.items&&t.items.length>0&&n.recursiveSetAll(t.items,e),t.checked=e})},recursiveSet:function(t,e,n,r){var i=this;return t.map(function(t){t.items&&t.items.length>0&&(t.key===e||r>1)&&i.recursiveSet(t.items,e,n,2),(t.key===e||r>1)&&(t.checked=n)}),t},recursiveSet2:function(t,e,n,r){return t.map(function(t){t.key===e&&t.items.map(function(t){t.key===r&&t.items.map(function(t){return t.checked=n})})}),t},getData:function(){var t=this;return f()(a.a.mark(function e(){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.jurisdiction.roleDetail({name:t.id});case 3:n=e.sent,r=n.data,t.permissions=r.items,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},roleAssign:function(){var t=this;return f()(a.a.mark(function e(){var n,r,s,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=[],s=[],t.permissions.map(function(t){t.checked&&n.push(t.key),t.items&&t.items.length>0&&t.items.map(function(e){e.checked&&(n.push(t.key),r.push(e.key)),e.items&&e.items.length>0&&e.items.map(function(t){t.checked&&s.push(t.key)})})}),o=[].concat(c()(new i.a([].concat(r,s,n)))),e.prev=5,e.next=8,t.$api.jurisdiction.roleAssign({role:t.id,permissions:o});case 8:t.$router.push({name:"roleManagement"}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error(e.t0);case 14:case"end":return e.stop()}},e,t,[[5,11]])}))()}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"permissionsSettings"},[n("p",{staticClass:"title"},[t._v("权限设置")]),t._v(" "),n("div",{staticClass:"detail"},[n("el-checkbox",{staticClass:"mt20",model:{value:t.checkeAll,callback:function(e){t.checkeAll=e},expression:"checkeAll"}},[t._v("全选")]),t._v(" "),t._l(t.permissions,function(e,r){return n("div",{key:r,staticClass:"card"},[n("div",{staticClass:"row-title"},[n("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:function(n){return t.handleFirstChange(n,e.key)}},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"val.checked"}},[t._v("\n                    "+t._s(e.name)+"\n                ")])],1),t._v(" "),t._l(e.items,function(r,i){return n("div",{key:i,staticClass:"row"},[n("div",{staticClass:"row-left"},[n("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:function(n){return t.handleSecondChange(n,e.key,r.key)}},model:{value:r.checked,callback:function(e){t.$set(r,"checked",e)},expression:"curr.checked"}},[t._v("\n                        "+t._s(r.name)+"\n                    ")])],1),t._v(" "),n("div",{staticClass:"row-right"},t._l(r.items,function(e){return n("span",{key:e.key},[n("el-checkbox-group",{model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}},[n("el-checkbox",{key:e.key,attrs:{label:e.key}},[t._v("\n                                "+t._s(e.name)+"\n                            ")])],1)],1)}),0)])})],2)}),t._v(" "),n("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.roleAssign}},[t._v("保存")])],1)],2)])},staticRenderFns:[]};var v=n("C7Lr")(l,h,!1,function(t){n("8Rcp"),n("UfWg")},"data-v-ec9e13da",null);e.default=v.exports},"8Rcp":function(t,e){},"9TqU":function(t,e,n){var r=n("Nlnz"),i=n("mmyG");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},CfUY:function(t,e,n){n("TorI")("Set")},EKzR:function(t,e,n){var r=n("+kaZ"),i=n("RF0x"),s=n("+Tcy")("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},GGtt:function(t,e,n){n("d5xd"),n("at0p"),n("MJJS"),n("i9Cg"),n("PUcJ"),n("Yp1e"),n("CfUY"),t.exports=n("ZuHZ").Set},GmRL:function(t,e,n){"use strict";var r=n("2KLU"),i=n("Wtcz"),s=n("Dpv6"),c=n("2gH+"),o=n("W4r7"),a=n("ZUzi"),u=n("GVcH"),f=n("jt4h"),l=n("+kaZ"),h=n("U91k"),v=n("hHwa").f,p=n("rsKQ")(0),d=n("uoC7");t.exports=function(t,e,n,m,k,_){var y=r[t],g=y,x=k?"set":"add",S=g&&g.prototype,w={};return d&&"function"==typeof g&&(_||S.forEach&&!c(function(){(new g).entries().next()}))?(g=e(function(e,n){f(e,g,t,"_c"),e._c=new y,void 0!=n&&u(n,k,e[x],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in S&&(!_||"clear"!=t)&&o(g.prototype,t,function(n,r){if(f(this,g,t),!e&&_&&!l(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),_||v(g.prototype,"size",{get:function(){return this._c.size}})):(g=m.getConstructor(e,t,k,x),a(g.prototype,n),s.NEED=!0),h(g,t),w[t]=g,i(i.G+i.W+i.F,w),_||m.setStrong(g,t,k),g}},"O+0q":function(t,e,n){var r=n("EKzR");t.exports=function(t,e){return new(r(t))(e)}},PUcJ:function(t,e,n){var r=n("Wtcz");r(r.P+r.R,"Set",{toJSON:n("9TqU")("Set")})},TY5X:function(t,e,n){"use strict";var r=n("hHwa").f,i=n("7ikt"),s=n("ZUzi"),c=n("VfK5"),o=n("jt4h"),a=n("GVcH"),u=n("JCgW"),f=n("Uket"),l=n("/9y9"),h=n("uoC7"),v=n("Dpv6").fastKey,p=n("rJqi"),d=h?"_s":"size",m=function(t,e){var n,r=v(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var f=t(function(t,r){o(t,f,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=r&&a(r,n,t[u],t)});return s(f.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,s=r.p;delete n._i[r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),n._f==r&&(n._f=i),n._l==r&&(n._l=s),n[d]--}return!!r},forEach:function(t){p(this,e);for(var n,r=c(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),h&&r(f.prototype,"size",{get:function(){return p(this,e)[d]}}),f},def:function(t,e,n){var r,i,s=m(t,e);return s?s.v=n:(t._l=s={i:i=v(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=s),r&&(r.n=s),t[d]++,"F"!==i&&(t._i[i]=s)),t},getEntry:m,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?f(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,f(1))},n?"entries":"values",!n,!0),l(e)}}},TorI:function(t,e,n){"use strict";var r=n("Wtcz"),i=n("1W9W"),s=n("VfK5"),c=n("GVcH");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,o,a=arguments[1];return i(this),(e=void 0!==a)&&i(a),void 0==t?new this:(n=[],e?(r=0,o=s(a,arguments[2],2),c(t,!1,function(t){n.push(o(t,r++))})):c(t,!1,n.push,n),new this(n))}})}},U5Tb:function(t,e,n){"use strict";var r=n("Wtcz");t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},UfWg:function(t,e){},Yp1e:function(t,e,n){n("U5Tb")("Set")},i9Cg:function(t,e,n){"use strict";var r=n("TY5X"),i=n("rJqi");t.exports=n("GmRL")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},mmyG:function(t,e,n){var r=n("GVcH");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},rJqi:function(t,e,n){var r=n("+kaZ");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},rsKQ:function(t,e,n){var r=n("VfK5"),i=n("+WWO"),s=n("WXuS"),c=n("n/58"),o=n("O+0q");t.exports=function(t,e){var n=1==t,a=2==t,u=3==t,f=4==t,l=6==t,h=5==t||l,v=e||o;return function(e,o,p){for(var d,m,k=s(e),_=i(k),y=r(o,p,3),g=c(_.length),x=0,S=n?v(e,g):a?v(e,0):void 0;g>x;x++)if((h||x in _)&&(m=y(d=_[x],x,k),t))if(n)S[x]=m;else if(m)switch(t){case 3:return!0;case 5:return d;case 6:return x;case 2:S.push(d)}else if(f)return!1;return l?-1:u||f?f:S}}},zsLt:function(t,e,n){t.exports={default:n("GGtt"),__esModule:!0}}});