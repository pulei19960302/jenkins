webpackJsonp([15],{"+fhc":function(e,t,a){"use strict";var i=a("lC5x"),r=a.n(i),n=a("aA9S"),o=a.n(n),s=a("J0Oq"),l=a.n(s),u={name:"sendMessageDialog",mixins:[a("8Rg7").a],props:{columnSelect:{type:Array,default:function(){return[]}},columnSelectName:{type:String,default:""},sendCouponUserId:{type:String,default:""},initData:{type:Function,default:function(){}},visable:{type:Boolean,default:!1}},data:function(){return{form:{type:1,to_id:""},searchLoading:!1,filterData:[],dialogVisible:!1,rules:{},categories:[{value:1,label:"系统消息"},{value:2,label:"服务消息"},{value:3,label:"活动消息"},{value:4,label:"售后消息"},{value:5,label:"群聊消息"}],types:[{value:1,label:"对用户"},{value:2,label:"对群"},{value:3,label:"对团队"},{value:4,label:"对全站用户"},{value:5,label:"对全部普通用户"},{value:6,label:"对全部店主"},{value:7,label:"对全部团队长"},{value:8,label:"对全部合伙人"}]}},methods:{getSuccessUpload:function(e){this.imgs=e},submitMessage:function(){var e,t=this;this.form.to_id=this.columnSelect,this.$refs.form.validate((e=l()(r.a.mark(function e(a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=15;break}return e.prev=1,i=o()({},t.form),4===t.form.type&&(i.to_id=0),3===t.form.category&&(i.img=t.imgs),i.end_time=i.end_time/1e3,e.next=8,t.$api.operate.messageAdd(i);case 8:t.dialogVisible=!1,t.initData(),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),new Error(e.t0);case 15:case"end":return e.stop()}},e,t,[[1,12]])})),function(t){return e.apply(this,arguments)}))},querySearchAsync:function(e){e?(1===this.form.type&&this.getUserData(e),2===this.form.type&&this.getGroupData(e),3===this.form.type&&this.getPartnerData(e)):this.filterData=[]},getUserData:function(e){var t=this;return l()(r.a.mark(function a(){var i,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.user.getUserManageList({keywords:e});case 3:i=a.sent,n=i.data,t.filterData=n.items.map(function(e){return{value:e.id,label:e.username}}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}},a,t,[[0,8]])}))()},getGroupData:function(e){var t=this;return l()(r.a.mark(function a(){var i,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.user.groupList({name:e});case 3:i=a.sent,n=i.data,t.filterData=n.items.map(function(e){return{value:e.id,label:e.name}}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}},a,t,[[0,8]])}))()},getPartnerData:function(e){var t=this;return l()(r.a.mark(function a(){var i,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.user.partnerlist({title:e});case 3:i=a.sent,n=i.data,t.filterData=n.items.map(function(e){return{value:e.id,label:e.title}}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}},a,t,[[0,8]])}))()}},watch:{visable:function(e){this.dialogVisible=e},dialogVisible:function(e){this.$emit("update:visable",e)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{top:"4vh",title:"发送站内信",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"消息类型：",rules:[e.simpleRule],prop:"type"}},[a("el-select",{attrs:{filterable:"",clearable:"",disabled:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.types,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),4!==e.form.type?a("el-form-item",{attrs:{label:"接收者：",rules:[e.simpleRule],prop:"to_id"}},[e._v("\n                    "+e._s(e.columnSelectName)+"\n                ")]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"消息分类：",rules:[e.simpleRule],prop:"category"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.categories,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),3===e.form.category?a("div",[a("el-form-item",{attrs:{label:"活动链接：",rules:[e.simpleRule],prop:"url"}},[a("el-input",{staticStyle:{width:"214px"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动图片：",rules:[e.simpleRule]}},[a("FileUpload",{attrs:{isOnly:!0},on:{successUploadCBK:e.getSuccessUpload}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间：",rules:[e.simpleRule],prop:"end_time"}},[a("el-date-picker",{attrs:{"value-format":"timestamp",size:"mini",type:"datetime"},model:{value:e.form.end_time,callback:function(t){e.$set(e.form,"end_time",t)},expression:"form.end_time"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"消息标题：",rules:[e.simpleRule],prop:"title"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{autocomplete:"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息内容：",rules:[e.simpleRule],prop:"content"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitMessage}},[e._v("发 布")])],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(u,c,!1,function(e){a("Xjn4")},"data-v-908301fc",null);t.a=d.exports},"32k6":function(e,t,a){"use strict";var i=a("lC5x"),r=a.n(i),n=a("J0Oq"),o=a.n(n),s={name:"updateSuperior",props:{id:{type:[String,Number],default:""},visable:{type:Boolean,default:!1},initData:{type:Function,default:function(){}},superiorId:{type:[String,Number],default:""}},data:function(){return{rules:{store_id:[{required:!0,message:"请输入id查询上级",trigger:"change"}]},showDialog:!1,loading:!1,btnLoading:!1,options:[],formModel:{store_id:""}}},methods:{submitType:function(){var e,t=this;this.btnLoading=!0;try{this.$refs.updateSuperiorForm.validate((e=o()(r.a.mark(function e(a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return i={id:t.id,store_id:t.formModel.store_id},e.next=4,t.$api.user.changeStore(i);case 4:t.resetForm(),t.initData&&t.initData();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}catch(e){console.log(e)}finally{this.btnLoading=!1}},resetForm:function(){this.$refs.updateSuperiorForm.resetFields(),this.options=[],this.showDialog=!1},remoteMethod:function(e){var t=this;return o()(r.a.mark(function a(){var i,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""===e){a.next=10;break}return t.loading=!0,a.next=4,t.$api.user.storeUser({name:e});case 4:i=a.sent,n=i.data,t.options=n,t.loading=!1,a.next=11;break;case 10:t.options=[];case 11:case"end":return a.stop()}},a,t)}))()}},watch:{visable:function(e){this.showDialog=e},showDialog:function(e){this.$emit("update:visable",e)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"修改上级",visible:e.showDialog,width:"30%"},on:{"update:visible":function(t){e.showDialog=t}}},[a("el-form",{ref:"updateSuperiorForm",attrs:{rules:e.rules,"label-width":"120px","label-position":"right",model:e.formModel}},[a("el-form-item",{attrs:{label:"当前上级ID："}},[e._v("\n                "+e._s(e.superiorId)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:"修改上级ID：",prop:"store_id"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入id搜索","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.formModel.store_id,callback:function(t){e.$set(e.formModel,"store_id",t)},expression:"formModel.store_id"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetForm}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.btnLoading,type:"primary"},on:{click:e.submitType}},[e._v("\n                确定\n            ")])],1)],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(s,l,!1,function(e){a("F708")},"data-v-3878b318",null);t.a=u.exports},F708:function(e,t){},"J+7M":function(e,t){},"K+hG":function(e,t,a){"use strict";var i=a("lC5x"),r=a.n(i),n=a("J0Oq"),o=a.n(n),s={props:{id:{},visable:[Boolean]},data:function(){return{simpleRule:{required:!0,message:"必填项",trigger:"change"},showDialog:!1,form:{coupon_num:1,member_ids:"",coupon_id:""},coupons:[]}},watch:{visable:function(e){this.showDialog=e},showDialog:function(e){this.$emit("update:visable",e)},id:function(e){this.form.member_ids=e}},created:function(){this.getCoupons()},methods:{getCoupons:function(){var e=this;return o()(r.a.mark(function t(){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.activity.couponList({pageSize:1e4,page:1});case 2:a=t.sent,i=a.data,e.coupons=i.items;case 5:case"end":return t.stop()}},t,e)}))()},submit:function(){var e=this;this.$refs.couponForm.validate(function(t){t&&e.$api.activity.couponSend(e.form).then(function(t){e.$refs.couponForm.resetFields(),e.showDialog=!1})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"发放优惠券",visible:e.showDialog,width:"30%"},on:{"update:visible":function(t){e.showDialog=t}}},[a("el-form",{ref:"couponForm",attrs:{model:e.form}},[a("el-form-item",{attrs:{rules:[e.simpleRule],label:"选择优惠券",prop:"coupon_id"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.form.coupon_id,callback:function(t){e.$set(e.form,"coupon_id",t)},expression:"form.coupon_id"}},e._l(e.coupons,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"—id:"+e.id,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"coupon_num",rules:[e.simpleRule],label:"发放数量："}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"number"},model:{value:e.form.coupon_num,callback:function(t){e.$set(e.form,"coupon_num",t)},expression:"form.coupon_num"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]},u=a("C7Lr")(s,l,!1,null,null,null);t.a=u.exports},Ke7C:function(e,t){},NIf3:function(e,t,a){"use strict";var i=a("lC5x"),r=a.n(i),n=a("4YfN"),o=a.n(n),s=a("J0Oq"),l=a.n(s),u={name:"mergeData",props:{id:{type:[String,Number],default:""},userName:{type:String,default:""},visable:{type:Boolean,default:!1},initData:{type:Function,default:function(){}}},data:function(){return{rules:{to_uid:[{required:!0,message:"请输入用户id",trigger:"change"}],is_frozen_to_uid:[{required:!0,message:"请选择",trigger:"change"}]},dialogVisibletype:!1,loading:!0,options:[],formModel:{to_uid:"",is_frozen_to_uid:"0"}}},methods:{submit:function(){var e,t=this;console.log(this.formModel),this.$refs.form.validate((e=l()(r.a.mark(function e(a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return i=o()({},t.formModel,{uid:t.id}),e.next=4,t.$api.updateUser.mergeDataService(i);case 4:t.cancel(),t.initData&&t.initData();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},cancel:function(){this.$refs.form.resetFields(),this.dialogVisibletype=!1},remoteMethod:function(e){var t=this;return l()(r.a.mark(function a(){var i,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""===e){a.next=10;break}return t.loading=!0,a.next=4,t.$api.updateUser.searchUserService({uid:e});case 4:i=a.sent,n=i.data,t.options=n,t.loading=!1,a.next=11;break;case 10:t.options=[];case 11:case"end":return a.stop()}},a,t)}))()}},watch:{visable:function(e){this.dialogVisibletype=e},dialogVisibletype:function(e){this.$emit("update:visable",e)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisibletype,title:"合并数据",width:"30%"},on:{"update:visible":function(t){e.dialogVisibletype=t},close:e.cancel}},[a("el-form",{ref:"form",attrs:{model:e.formModel,rules:e.rules,"label-width":"140px","label-position":"right"}},[a("el-form-item",{attrs:{label:"合并账号："}},[e._v("\n                "+e._s(e.userName)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:"被合并账号：",prop:"to_uid"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入id搜索","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.formModel.to_uid,callback:function(t){e.$set(e.formModel,"to_uid",t)},expression:"formModel.to_uid"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"禁用被合并账号：",prop:"is_frozen_to_uid"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.formModel.is_frozen_to_uid,callback:function(t){e.$set(e.formModel,"is_frozen_to_uid",t)},expression:"formModel.is_frozen_to_uid"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(u,c,!1,function(e){a("ZXr4")},"data-v-8fb3a0d0",null);t.a=d.exports},SFuZ:function(e,t,a){"use strict";var i=a("4YfN"),r=a.n(i),n=a("lC5x"),o=a.n(n),s=a("J0Oq"),l=a.n(s),u={name:"updateUserInfor",props:{sendCouponUserId:{type:String,default:""},initData:{type:Function,default:function(){}},visable:{type:Boolean,default:!1},id:{type:[String,Number],default:""}},data:function(){return{loading:!1,dialogVisible:!1,btnLoading:!1,formLabelAlign:{password:"",signature:"",occupation:"",birthday:"",gender:"",phone:"",nickname:""},rules:{nickname:[{required:!0,message:"请输入",trigger:"blur"}]}}},methods:{resetForm:function(){this.$refs.form.resetFields(),this.dialogVisible=!1},submitForm:function(){var e,t=this;try{this.$refs.form.validate((e=l()(o.a.mark(function e(a){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return t.btnLoading=!0,i={password:t.formLabelAlign.password,signature:t.formLabelAlign.signature,occupation:t.formLabelAlign.occupation,birthday:t.formLabelAlign.birthday,sex:t.formLabelAlign.gender,phone:t.formLabelAlign.phone,nickname:t.formLabelAlign.nickname,id:t.id},e.next=5,t.$api.user.userEdit(i);case 5:t.resetForm(),t.initData&&t.initData();case 7:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}catch(e){console.log(e)}finally{this.btnLoading=!1}},getUserInfo:function(){var e=this;return l()(o.a.mark(function t(){var a,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$api.updateUser.getUserDetail({uid:e.id});case 4:a=t.sent,i=a.data,e.formLabelAlign=r()({},e.formLabelAlign,i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}},t,e,[[0,9,12,15]])}))()}},watch:{visable:function(e){this.dialogVisible=e,this.getUserInfo()},dialogVisible:function(e){this.$emit("update:visable",e)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"修改用户",width:"30%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:e.resetForm}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{rules:e.rules,"label-position":"right","label-width":"130px",model:e.formLabelAlign}},[a("el-form-item",{attrs:{label:"用户昵称：",prop:"nickname"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入昵称"},model:{value:e.formLabelAlign.nickname,callback:function(t){e.$set(e.formLabelAlign,"nickname",t)},expression:"formLabelAlign.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码："}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入手机号码"},model:{value:e.formLabelAlign.phone,callback:function(t){e.$set(e.formLabelAlign,"phone",t)},expression:"formLabelAlign.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别："}},[a("el-radio",{attrs:{label:0},model:{value:e.formLabelAlign.gender,callback:function(t){e.$set(e.formLabelAlign,"gender",t)},expression:"formLabelAlign.gender"}},[e._v("保密")]),e._v(" "),a("el-radio",{attrs:{label:1},model:{value:e.formLabelAlign.gender,callback:function(t){e.$set(e.formLabelAlign,"gender",t)},expression:"formLabelAlign.gender"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:2},model:{value:e.formLabelAlign.gender,callback:function(t){e.$set(e.formLabelAlign,"gender",t)},expression:"formLabelAlign.gender"}},[e._v("女")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"220px"},attrs:{label:"生日："}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formLabelAlign.birthday,callback:function(t){e.$set(e.formLabelAlign,"birthday",t)},expression:"formLabelAlign.birthday"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职业："}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入职业"},model:{value:e.formLabelAlign.occupation,callback:function(t){e.$set(e.formLabelAlign,"occupation",t)},expression:"formLabelAlign.occupation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"个性签名："}},[a("el-input",{staticStyle:{width:"220px"},attrs:{type:"textarea",rows:4,placeholder:"请输入个性签名"},model:{value:e.formLabelAlign.signature,callback:function(t){e.$set(e.formLabelAlign,"signature",t)},expression:"formLabelAlign.signature"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetForm}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.btnLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n                    确定\n                ")])],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(u,c,!1,function(e){a("J+7M")},"data-v-020d519b",null);t.a=d.exports},Xjn4:function(e,t){},ZXr4:function(e,t){},f1Yx:function(e,t){},gOnG:function(e,t){},mwem:function(e,t,a){"use strict";var i=a("aA9S"),r=a.n(i),n=a("lC5x"),o=a.n(n),s=a("J0Oq"),l=a.n(s),u=a("4YfN"),c=a.n(u),d=a("48sp"),p={props:{money_way_options:[Array],visable:[Boolean],showUserFilter:{type:Boolean,default:!0},uid:{}},data:function(){return{form:{uid:"",type:"",money:"",remark:"",password:"",to:""},showDialog:!1,options4:[],options5:[],loading:!1,rules:{uid:[{required:!0,message:"请输入",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],money:[{required:!0,message:"请输入",trigger:"change"}],remark:[{required:!0,message:"请填写",trigger:"change"}],password:[{required:!0,message:"请选择",trigger:"change"}],sort:[{required:!0,message:"请输入",trigger:"change"}],to:[{required:!0,message:"请选择",trigger:"change"}]}}},computed:c()({},Object(d.e)("user",["button_permissions"])),watch:{visable:function(e){this.showDialog=e},showDialog:function(e){this.$emit("update:visable",e)},uid:function(e){this.form.uid=e}},created:function(){this.balanceRecordType()},methods:{remoteMethod:function(e){var t=this;return l()(o.a.mark(function a(){var i,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""===e){a.next=10;break}return t.loading=!0,a.next=4,t.$api.finance.balanceRecordUser({name:e});case 4:i=a.sent,r=i.data,t.list=r.map(function(e){return{value:e.id,label:e.name}}),setTimeout(function(){t.loading=!1,t.options4=t.list.filter(function(t){return String(t.value).indexOf(e)>-1})},200),a.next=11;break;case 10:t.options4=[];case 11:case"end":return a.stop()}},a,t)}))()},balanceRecordType:function(){var e=this;return l()(o.a.mark(function t(){var a,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.finance.balanceRecordType();case 2:a=t.sent,i=a.data,e.options5=i;case 5:case"end":return t.stop()}},t,e)}))()},updatemoney:function(){var e=this;return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.form.validate(function(){var t=l()(o.a.mark(function t(a){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=16;break}if(t.prev=1,1!=(i=r()({},e.form)).to){t.next=6;break}return t.next=6,e.$api.finance.updatemoney(i);case 6:if(2!=i.to){t.next=9;break}return t.next=9,e.$api.finance.updatemoney2(i);case 9:e.showDialog=!1,e.$refs.form.resetFields(),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(1),new Error(t.t0);case 16:case"end":return t.stop()}},t,e,[[1,13]])}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"加扣款",visible:e.showDialog,width:"30%"},on:{"update:visible":function(t){e.showDialog=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px","label-position":"right"}},[e.showUserFilter?a("el-form-item",{attrs:{label:"用户名：",prop:"uid"}},[a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入用户ID搜索","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.form.uid,callback:function(t){e.$set(e.form,"uid",t)},expression:"form.uid"}},e._l(e.options4,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"收支类型：",prop:"type"}},[a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.options5,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"加扣渠道：",prop:"to"}},[a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:""},model:{value:e.form.to,callback:function(t){e.$set(e.form,"to",t)},expression:"form.to"}},e._l(e.money_way_options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"资金：",prop:"money"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{autocomplete:"off"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{type:"textarea",rows:2,autocomplete:"off"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("AutoInputFix"),e._v(" "),a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updatemoney()}}},[e._v("\n                确定\n            ")])],1)],1)],1)},staticRenderFns:[]},f=a("C7Lr")(p,m,!1,null,null,null);t.a=f.exports},poVk:function(e,t,a){"use strict";var i=a("lC5x"),r=a.n(i),n=a("J0Oq"),o=a.n(n),s={name:"updataPassword",props:{initData:{type:Function,default:function(){}},visable:{type:Boolean,default:!1},id:{type:[String,Number],default:""}},data:function(){return{btnLoading:!1,showDialog:!1,rules:{password:[{required:!0,message:"请输入你的密码",trigger:"blur"}]},form:{password:""}}},methods:{submitType:function(){var e,t=this;try{this.$refs.form.validate((e=o()(r.a.mark(function e(a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return t.btnLoading=!0,i={password:t.form.password,id:t.id},e.next=5,t.$api.updateUser.updatePwdService(i);case 5:t.resetForm(),t.initData&&t.initData();case 7:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}catch(e){console.log(e)}finally{this.btnLoading=!1}},resetForm:function(){this.$refs.form.resetFields(),this.options=[],this.showDialog=!1}},watch:{visable:function(e){this.showDialog=e},showDialog:function(e){this.$emit("update:visable",e)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.showDialog,title:"修改密码",width:"30%"},on:{"update:visible":function(t){e.showDialog=t},close:e.resetForm}},[a("el-form",{ref:"form",attrs:{"label-width":"100px",rules:e.rules,model:e.form}},[a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetForm}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.btnLoading,type:"primary"},on:{click:e.submitType}},[e._v("\n                确定\n            ")])],1)],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(s,l,!1,function(e){a("gOnG")},"data-v-08287338",null);t.a=u.exports},tVh0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("8Jpj"),r=a.n(i),n=a("aA9S"),o=a.n(n),s=a("lC5x"),l=a.n(s),u=a("J0Oq"),c=a.n(u),d=a("4YfN"),p=a.n(d),m=a("48sp"),f=(a("czH5"),a("K+hG")),v=a("mwem"),b=a("xf5k"),h=a("32k6"),g=a("NIf3"),y=a("SFuZ"),_=a("+fhc"),w={name:"userList",components:{UpdataPassword:a("poVk").a,SendMessageDialog:_.a,UpdateUserInfor:y.a,MergeData:g.a,UpdateSuperior:h.a,ChooseTypeDialog:b.a,SendCoupon:f.a,sendMoney:v.a},data:function(){return{showSendCoupon:!1,sendCouponUserId:"",chooseTypeStatus:!1,updateSuperior:!1,firstSuperiorId:"",mergeDataStatus:!1,userName:"",updateUserStatus:!1,sendMessageStatus:!1,columnSelectName:"",updateUserPwd:!1,sendMoneyVisable:!1,sendMoneyUid:"",money_way_options:[],showMoneyBtn:!1,exportOptions:[],loading:!1,current:1,pageSize:30,count:0,query:{},visible:!1,previewImg:"",searchOPtions:[{type:"input",key:"uid",placeholder:"用户ID"},{type:"input",key:"keywords",placeholder:"用户名称"},{type:"select",key:"status",placeholder:"状态",options:[{label:"启用",value:10},{label:"禁用",value:0}]},{type:"input",key:"first_uid",placeholder:"直接上级ID"},{type:"input",key:"second_uid",placeholder:"间接上级ID"},{type:"input",key:"first_team_id",placeholder:"一级黄金ID"},{type:"input",key:"second_team_id",placeholder:"二级黄金ID"},{type:"input",key:"team_id",placeholder:"所属钻石ID"},{type:"datetimerange",key:"start_time-end_time",placeholder:"开始时间"}],tableData:[],columnSelect:[],total_money:"",auditForm:{status:0,coupon:0},auditdialogVisible:!1,audit_id:0,member_type:[],pageChoose:[10,30,50],paginationOptions:[{value:"up",label:"批量启用",permission:[this.$api.user.userManage.setstatus]},{value:"disable",label:"批量禁用",type:"warning",permission:[this.$api.user.userManage.setstatus]},{value:"dels",label:"批量删除",type:"danger",permission:[this.$api.user.userManage.del]}],activeName:""}},computed:p()({},Object(m.e)("user",["button_permissions"])),created:function(){this.button_permissions.includes(this.$api.finance.balance_record.updatemoney)&&this.money_way_options.push({label:"余额",value:1}),this.button_permissions.includes(this.$api.finance.balance_record.updatemoney2)&&this.money_way_options.push({label:"可提现",value:2}),this.money_way_options.length>0&&(this.showMoneyBtn=!0)},mounted:function(){this.getData()},activated:function(){this.getData()},methods:{sortChange:function(e){var t=e.prop,a=e.order;this.query.sort="ascending"!==a&&a?"-"+t:t,this.getData()},changeStatus:function(e){var t=this,a=e.status,i=e.id,r=e.cb;return c()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.user.userSetStatus({status:a,id:i});case 3:r&&r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.tableData.map(function(e){e.id===i&&t.$set(e,"status",10==a?0:10)});case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},filterTag:function(e,t){return t.type==e},handelSearch:function(e,t){var a=this;({search:function(){a.query=p()({},t,{level:0==a.activeName?"":a.activeName}),a.current=1,a.getData()},reset:function(){a.activeName="",a.query={},a.pageSize=30,a.current=1,a.getData()}})[e]()},getData:function(){var e=this;return c()(l.a.mark(function t(){var a,i,r,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$api.updateUser.getList(p()({},e.query,{pageSize:e.pageSize,page:e.current}));case 4:for(n in a=t.sent,i=a.data,e.tableData=i.items,i.count&&(e.count=Number(i.count)),e.total_money=i.total_money,e.member_type=i.member_type,e.searchOPtions[4].options=i.member_type,r=[],i&&i.fields)i.fields.hasOwnProperty(n)&&r.push({value:n,label:i.fields[n]});console.log(r),e.exportOptions=r||[],e.loading=!1,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),e.loading=!1;case 21:case"end":return t.stop()}},t,e,[[0,18]])}))()},handleSelectionChange:function(e){var t=[];e.length<1?this.columnSelect=[]:(e.map(function(e){t.push(e.id)}),this.columnSelect=t)},handlePageChange:function(e){this.current=e,this.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},jumpTo:function(e,t,a){this.$router.push({name:"userDetail",params:{type:e,id:t,listType:a}})},setStatus:function(e){var t=this;return c()(l.a.mark(function a(){var i;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(i=p()({},e)).status=1==i.status?10:0,a.next=4,t.$api.user.Usersetstatus(i);case 4:t.getData();case 5:case"end":return a.stop()}},a,t)}))()},auditUser:function(){var e=this;return c()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=o()({},e.auditForm)).id=e.audit_id,t.prev=2,t.next=5,e.$api.user.storeAudit(a);case 5:e.auditdialogVisible=!1,e.getData(),e.audit_id=0,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:case"end":return t.stop()}},t,e,[[2,10]])}))()},handleOpreate:function(e){if(this.columnSelect.length<1)this.$message.error("请选择用户");else switch(e){case"dels":this.handleDel("many");break;case"disable":this.changeStatus({id:this.columnSelect.join(","),status:0,cb:this.getData});break;case"up":this.changeStatus({id:this.columnSelect.join(","),status:10,cb:this.getData})}},handleDel:function(e){var t=this;this.$confirm("确认删除选中用户？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.del(e)})},del:function(e){var t=this;if("many"==e){if(this.columnSelect.length<1)return void this.$message({message:"请至少选择一条申请",type:"error"});this.$api.user.Userdel({id:this.columnSelect.join(",")}).then(function(){t.getData()})}else this.$api.user.Userdel({id:e}).then(function(){t.getData()})},handleUserType:function(e,t){var a=this;this.$confirm("确认改变用户类型？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.editUserType(e,t)})},editUserType:function(e,t){var a=this;"many"==e||this.$api.user.editUserType({id:e,type:t}).then(function(){a.getData()})},handleCommand:function(e){return console.log(e),"sendCoupon"==e.name?(this.showSendCoupon=!0,void(this.sendCouponUserId=e.id)):"sendMoney"==e.name?(this.sendMoneyVisable=!0,void(this.sendMoneyUid=e.id)):"editSuperior"==e.name?(this.updateSuperior=!0,this.sendCouponUserId=e.id,void(this.firstSuperiorId=e.type)):"editType"==e.name?(this.chooseTypeStatus=!0,void(this.sendCouponUserId=e.id)):"mergeData"==e.name?(this.mergeDataStatus=!0,this.sendCouponUserId=e.id,void(this.userName=e.type)):"updataUserPwd"==e.name?(this.updateUserPwd=!0,void(this.sendCouponUserId=e.id)):void this.$router.push({name:e.name,params:{type:e.type,id:e.id,listType:e.listType}})},composeValue:function(e,t,a,i,r){return{name:e,type:t,id:a,listType:i?i.type:"",status:r||""}},updateUserFun:function(e){this.sendCouponUserId=e.id,this.updateUserStatus=!0},handleTabClick:function(e){this.query.level=e.name,this.query.level||r()(this.query,"level"),this.getData()}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"br4 userList"},[a("div",{staticStyle:{"padding-left":"16px"}},[a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部成员",name:""}}),e._v(" "),a("el-tab-pane",{attrs:{label:"会员",name:"1"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"svip",name:"20"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"白银",name:"30"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"黄金",name:"52"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"钻石",name:"51"}})],1)],1),e._v(" "),a("Search",{attrs:{searchOPtions:e.searchOPtions},on:{searchCallback:e.handelSearch}},[a("Export",{attrs:{exportOptions:e.exportOptions,query:e.query,url:e.$api.user.userManage.export}})],1),e._v(" "),a("div",{staticClass:"table-pandect table-pandect-hidden"},[e._v("\n            符合搜索条件的数据共\n            "),a("span",[e._v(e._s(e.count))]),e._v(" 个， 余额总计\n            "),a("span",[e._v(e._s(e.total_money))]),e._v(" 元\n        ")]),e._v(" "),a("div",{staticStyle:{padding:"0 16px 16px 16px"}},[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"element-loading-spinner":"el-icon-loading","highlight-current-row":!0,border:"",data:e.tableData,"tooltip-effect":"dark"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",width:"50",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{width:"90",label:"用户头像"},scopedSlots:e._u([{key:"default",fn:function(t){return["https://img.ryg0212.com/img/img_default_user.png"!==t.row.avatar&&t.row.avatar?a("img",{staticClass:"table-img br4",attrs:{width:"60px",src:t.row.avatar,alt:""},on:{click:function(a){e.previewImg=t.row.avatar,e.visible=!0}}}):a("img",{staticClass:"table-img br4",attrs:{src:"https://img.bingovip.shop/img/img_default_user.png",alt:""},on:{click:function(t){e.previewImg="https://img.bingovip.shop/img/img_default_user.png",e.visible=!0}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"账户",prop:"username","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"用户类型",prop:"type_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"直属上级",prop:"first_superior_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"间接上级",prop:"second_superior_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"一级黄金",prop:"team_superior_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"二级黄金",prop:"second_team_superior_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属钻石",prop:"diamond_superior"}}),e._v(" "),a("el-table-column",{attrs:{label:"余额",align:"right",sortable:"custom",prop:"balance","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"注册时间",width:"140",prop:"created_at","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"p5",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:!e.button_permissions.includes(e.$api.user.userManage.edit),"active-value":10,"inactive-value":0},on:{change:function(a){return e.changeStatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.user.userManage.detail],expression:"[$api.user.userManage.detail]"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return e.jumpTo("read",t.row.id,t.row.type)}}},[e._v("查看\n                            ")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.user.userManage.edit],expression:"[$api.user.userManage.edit]"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return e.updateUserFun(t.row)}}},[e._v("\n                                编辑\n                            ")]),e._v(" "),a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link",staticStyle:{cursor:"pointer","font-weight":"500"}},[e._v("更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticStyle:{color:"#2d8cf0"},attrs:{command:e.composeValue("editSuperior",t.row.first_superior_id,t.row.id,t.row)}},[e._v(" 修改上级\n                                    ")]),e._v(" "),a("el-dropdown-item",{staticStyle:{color:"#2d8cf0"},attrs:{command:e.composeValue("editType","",t.row.id,t.row)}},[e._v(" 修改类型\n                                    ")]),e._v(" "),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.send],expression:"[$api.activity.coupon.send]"}],staticStyle:{color:"#2d8cf0"},attrs:{command:e.composeValue("sendCoupon","edit",t.row.id,t.row,0)}},[e._v("发优惠券\n                                    ")]),e._v(" "),e.showMoneyBtn?a("el-dropdown-item",{staticStyle:{color:"#2d8cf0"},attrs:{command:e.composeValue("sendMoney","edit",t.row.id,t.row,0)}},[e._v("加扣款项\n                                    ")]):e._e(),e._v(" "),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.user.userManage.edit],expression:"[$api.user.userManage.edit]"}],staticStyle:{color:"#2d8cf0"},attrs:{command:e.composeValue("updataUserPwd","edit",t.row.id,t.row)}},[e._v("\n                                        修改密码\n                                    ")])],1)],1)]}}])})],1)]],2),e._v(" "),a("Pagination",{attrs:{options:e.paginationOptions,current:e.current,pageSize:e.pageSize,count:e.count,pageChoose:e.pageChoose},on:{opreateCBK:e.handleOpreate,pageChangeCBK:e.handlePageChange,sizeChangeCBK:e.handleSizeChange}}),e._v(" "),a("el-dialog",{attrs:{title:"审核",visible:e.auditdialogVisible,width:"30%"},on:{"update:visible":function(t){e.auditdialogVisible=t}}},[a("el-form",{ref:"closeForm",attrs:{model:e.auditForm,"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"是否通过："}},[a("el-switch",{attrs:{"active-value":10,"inactive-value":0},model:{value:e.auditForm.status,callback:function(t){e.$set(e.auditForm,"status",t)},expression:"auditForm.status"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"送优惠券："}},[a("el-switch",{attrs:{"active-value":10,"inactive-value":0},model:{value:e.auditForm.coupon,callback:function(t){e.$set(e.auditForm,"coupon",t)},expression:"auditForm.coupon"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.auditdialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.auditUser}},[e._v("确定")])],1)],1),e._v(" "),a("PreviewImg",{attrs:{visible:e.visible,imgSrc:e.previewImg},on:{"update:visible":function(t){e.visible=t}}}),e._v(" "),a("SendCoupon",{attrs:{visable:e.showSendCoupon,id:e.sendCouponUserId},on:{"update:visable":function(t){e.showSendCoupon=t}}}),e._v(" "),a("sendMoney",{attrs:{uid:e.sendMoneyUid,showUserFilter:!1,visable:e.sendMoneyVisable,money_way_options:e.money_way_options},on:{"update:visable":function(t){e.sendMoneyVisable=t}}}),e._v(" "),a("choose-type-dialog",{attrs:{initData:e.getData,visable:e.chooseTypeStatus,id:e.sendCouponUserId},on:{"update:visable":function(t){e.chooseTypeStatus=t}}}),e._v(" "),a("update-superior",{attrs:{"init-data":e.getData,superiorId:e.firstSuperiorId,visable:e.updateSuperior,id:e.sendCouponUserId},on:{"update:visable":function(t){e.updateSuperior=t}}}),e._v(" "),a("merge-data",{attrs:{"user-name":e.userName,"init-data":e.getData,visable:e.mergeDataStatus,id:e.sendCouponUserId},on:{"update:visable":function(t){e.mergeDataStatus=t}}}),e._v(" "),a("update-user-infor",{attrs:{id:e.sendCouponUserId,visable:e.updateUserStatus,"init-data":e.getData},on:{"update:visable":function(t){e.updateUserStatus=t}}}),e._v(" "),a("send-message-dialog",{attrs:{"column-select-name":e.columnSelectName,"column-select":e.columnSelect,id:e.sendCouponUserId,visable:e.sendMessageStatus,"init-data":e.getData},on:{"update:visable":function(t){e.sendMessageStatus=t}}}),e._v(" "),a("updata-password",{attrs:{id:e.sendCouponUserId,visable:e.updateUserPwd,"init-data":e.getData},on:{"update:visable":function(t){e.updateUserPwd=t}}})],1)},staticRenderFns:[]};var k=a("C7Lr")(w,x,!1,function(e){a("Ke7C")},"data-v-29eb3712",null);t.default=k.exports},xf5k:function(e,t,a){"use strict";var i=a("lC5x"),r=a.n(i),n=a("4YfN"),o=a.n(n),s=a("J0Oq"),l=a.n(s),u={name:"chooseTypeDialog",mixins:[a("8Rg7").a],props:{id:{type:[String,Number],default:""},visable:{type:Boolean,default:!1},initData:{type:Function,default:function(){}}},data:function(){return{dialogVisibletype:!1,typeObj:{level:""},rules:{},optionsType:[{label:"会员",value:1},{label:"svip",value:20},{label:"白银",value:30},{label:"黄金",value:52},{label:"钻石",value:51}],btnLoading:!1}},methods:{submitType:function(){var e,t=this;try{this.$refs.chooseForm.validate((e=l()(r.a.mark(function e(a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return t.btnLoading=!0,(i=o()({},t.typeObj)).uid=t.id,e.next=6,t.$api.user.partnerType(i);case 6:t.resetForm(),t.initData&&t.initData();case 8:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}catch(e){console.log(e)}finally{this.btnLoading=!1}},resetForm:function(){this.typeObj.level="",this.$refs.chooseForm.resetFields(),this.dialogVisibletype=!1}},watch:{visable:function(e){this.dialogVisibletype=e},dialogVisibletype:function(e){this.$emit("update:visable",e)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"选择类型",visible:e.dialogVisibletype,width:"30%"},on:{"update:visible":function(t){e.dialogVisibletype=t},close:e.resetForm}},[a("el-form",{ref:"chooseForm",attrs:{model:e.typeObj,rules:e.rules,"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"选择类型：",prop:"level",rules:[e.simpleRule]}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.typeObj.level,callback:function(t){e.$set(e.typeObj,"level",t)},expression:"typeObj.level"}},e._l(e.optionsType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetForm}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.submitType()}}},[e._v("\n                确定\n            ")])],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(u,c,!1,function(e){a("f1Yx")},"data-v-d90807d4",null);t.a=d.exports}});