webpackJsonp([42],{"1CJk":function(t,e){},PV5n:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("ZLEe"),n=r.n(a),s=r("lC5x"),i=r.n(s),o=r("3cXf"),l=r.n(o),c=r("J0Oq"),u=r.n(c),m={name:"announcementSetting",data:function(){return{form:{title:"",content:"",time:[],status:0},simpleRule:{required:!0,message:"必填项",trigger:"change"}}},created:function(){this.getData()},methods:{successUpload:function(t,e){this[e]=[{name:e,url:t[0]}]},submit:function(){var t,e=this;this.$refs.ruleForm.validate((t=u()(i.a.mark(function t(r){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return a=e.form.time,e.form.start_at=a[0],e.form.end_at=a[1],t.next=6,e.$api.setting.saveConfig2({group:"notice",key:"notice",key_value:l()(e.form),type:8,status:e.form.status});case 6:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},getData:function(){var t=this;return u()(i.a.mark(function e(){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.setting.getConfigList({group:"notice"});case 3:r=e.sent,a=r.data,n()(t.form).forEach(function(e){t.form[e]=a.items.notice.key_value[e]}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()}}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"activity-set"},[r("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{"label-position":"right","label-width":"120px",model:t.form}},[r("section",[r("p",{staticClass:"title"},[t._v("公告设置")]),t._v(" "),r("el-form-item",{attrs:{rules:[t.simpleRule],label:"标题：",prop:"title"}},[r("el-input",{staticStyle:{width:"100%"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"公告信息：",prop:"content"}},[r("el-input",{staticStyle:{width:"100%"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"生效时间:"}},[r("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"status",label:"是否启用"}},[r("el-switch",{attrs:{"active-value":10,"inactive-value":0},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1)]),t._v(" "),r("div",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.submit}},[t._v("提 交")])],1)],1)},staticRenderFns:[]};var p=r("C7Lr")(m,f,!1,function(t){r("1CJk")},"data-v-9b53336c",null);e.default=p.exports}});