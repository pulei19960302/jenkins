webpackJsonp([20,4,74],{"8ART":function(e,t){},AbuJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("aA9S"),i=a.n(n),r=a("lC5x"),o=a.n(r),l=a("J0Oq"),s=a.n(l),c=a("4YfN"),u=a.n(c),d=a("IHPB"),p=a.n(d),m=a("48sp"),f=a("czH5"),v={name:"AddCoupon",props:["id"],data:function(){this.$route.params.id;return{visible:!1,previewImg:"",simpleRule:{required:!0,message:"必填项",trigger:"change"},types:[].concat(p()(f.a.COUPON_TYPES)),goods:[],brands:[],suppliers:[],current:1,pageSize:10,count:0,tableData:[],form:{name:"",num:"",money:"",user_num:"",max:"",is_overlay:0,goods_ids:[],member_type:["1"],start_at:"",end_at:"",ding_at:"",ding_at_end:"",description:""},rules:{},lessMoney:0,users:[{value:"1",label:"普通用户"},{value:"2",label:"会员"},{value:"3",label:"白银"},{value:"5",label:"合伙人"}],addProduct:0}},computed:u()({},Object(m.e)("product",["allGoods","allCategories"])),watch:{"form.goods_ids":function(e){e&&e.length>0?this.tableData=this.goods.filter(function(t){return e.includes(t.id)}):this.tableData=[]},lessMoney:function(){0==this.lessMoney&&(this.form.max="")},"form.max":function(e){""!=e&&(this.lessMoney=1)},id:function(e){e?(this.id=e,this.couponDetail(this.id)):(console.log(111),this.$refs.form.resetFields())}},mounted:function(){this.goods=this.allGoods,this.getBrands(),this.getSuppliers()},methods:{getBrands:function(){var e=this;return s()(o.a.mark(function t(){var a,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.product.brandList();case 3:a=t.sent,n=a.data,e.brands=n.items,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,e,[[0,8]])}))()},getSuppliers:function(){var e=this;return s()(o.a.mark(function t(){var a,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.product.supplierList();case 3:a=t.sent,n=a.data,e.suppliers=n.items,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,e,[[0,8]])}))()},couponDetail:function(e){var t=this;return s()(o.a.mark(function a(){var n,i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.activity.couponDetail({id:e});case 3:n=a.sent,i=n.data,t.form=i,t.form.ding_at=1e3*i.ding_at,t.form.ding_at_end=1e3*i.ding_at_end,t.form.end_at=1e3*i.end_at,t.form.start_at=1e3*i.start_at,t.form.cat_id=String(i.cat_id),t.form.goods_ids=i.goods_ids?i.goods_ids.split(",").map(function(e){return Number(e)}):[],""!=i.goods_ids&&(t.addProduct=1),a.next=18;break;case 15:throw a.prev=15,a.t0=a.catch(0),new Error(a.t0);case 18:case"end":return a.stop()}},a,t,[[0,15]])}))()},handlePreview:function(e){e&&(this.imgSrc=e,this.visible=!0)},imgSuccessUploadCBK:function(e,t){this[t]=[].concat(p()(e))},handleDel:function(e){this.form.goods_ids=this.form.goods_ids.filter(function(t){return t!=e})},handelSubmit:function(e){var t,a=this;this.$refs[e].validate((t=s()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=26;break}if(e.prev=1,(n=i()({},a.form)).goods_ids=n.goods_ids.join(","),n.ding_at=n.ding_at/1e3,n.ding_at_end=n.ding_at_end/1e3,n.end_at=n.end_at/1e3,n.start_at=n.start_at/1e3,n.member_type=n.member_type.join(","),0==a.lessMoney&&(n.max=0),!a.id){e.next=16;break}return n.id=a.id,e.next=14,a.$api.activity.couponEdit(n);case 14:e.next=18;break;case 16:return e.next=18,a.$api.activity.couponAdd(n);case 18:a.$emit("refresh"),e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(1),new Error(e.t0);case 24:e.next=27;break;case 26:a.$message.error("请确认信息是否填写完整");case 27:case"end":return e.stop()}},e,a,[[1,21]])})),function(e){return t.apply(this,arguments)}))}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"moreRules-content"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px",size:"mini"}},[a("div",{staticClass:"col-one"},[a("el-form-item",{attrs:{label:"优惠券名称:",prop:"name",rules:[e.simpleRule]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总发行量:",prop:"num",rules:[e.simpleRule]}},[a("el-input",{attrs:{type:"number",placeholder:"只能输入正整数，最小为1"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[a("template",{slot:"append"},[e._v("张")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"面额:",prop:"money",rules:[e.simpleRule]}},[a("el-input",{attrs:{type:"number",placeholder:"只能在0.01-10000之间"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"限制数量:",prop:"user_num",rules:[e.simpleRule]}},[a("el-input",{attrs:{type:"number",maxlength:"2",placeholder:"只能输入正整数，最小为1"},model:{value:e.form.user_num,callback:function(t){e.$set(e.form,"user_num",t)},expression:"form.user_num"}},[a("template",{slot:"append"},[e._v("张")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"满金额:"}},[a("el-radio-group",{model:{value:e.lessMoney,callback:function(t){e.lessMoney=t},expression:"lessMoney"}},[a("el-radio",{attrs:{label:0}},[e._v("无限制")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("满\n                        "),a("el-input",{staticStyle:{width:"162px"},attrs:{type:"number"},model:{value:e.form.max,callback:function(t){e.$set(e.form,"max",t)},expression:"form.max"}},[a("template",{slot:"append"},[e._v("可用")])],2)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否叠加:",prop:"is_overlay"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.is_overlay,callback:function(t){e.$set(e.form,"is_overlay",t)},expression:"form.is_overlay"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"领取开始时间:",prop:"start_at",rules:[e.simpleRule]}},[a("el-date-picker",{attrs:{"value-format":"timestamp",size:"mini",type:"datetime",placeholder:""},model:{value:e.form.start_at,callback:function(t){e.$set(e.form,"start_at",t)},expression:"form.start_at"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"领取结束时间:",prop:"end_at",rules:[e.simpleRule]}},[a("el-date-picker",{attrs:{"value-format":"timestamp",size:"mini",type:"datetime",placeholder:""},model:{value:e.form.end_at,callback:function(t){e.$set(e.form,"end_at",t)},expression:"form.end_at"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券开始时间:",prop:"ding_at",rules:[e.simpleRule]}},[a("el-date-picker",{attrs:{"value-format":"timestamp",size:"mini",type:"datetime",placeholder:""},model:{value:e.form.ding_at,callback:function(t){e.$set(e.form,"ding_at",t)},expression:"form.ding_at"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券结束时间:",prop:"ding_at_end",rules:[e.simpleRule]}},[a("el-date-picker",{attrs:{"value-format":"timestamp",size:"mini",type:"datetime",placeholder:""},model:{value:e.form.ding_at_end,callback:function(t){e.$set(e.form,"ding_at_end",t)},expression:"form.ding_at_end"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参与用户:",prop:"member_type",rules:[e.simpleRule]}},[a("el-checkbox-group",{attrs:{min:1},model:{value:e.form.member_type,callback:function(t){e.$set(e.form,"member_type",t)},expression:"form.member_type"}},e._l(e.users,function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券描述:",prop:"description",rules:[e.simpleRule]}},[a("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"可使用商品:"}},[a("el-radio-group",{model:{value:e.addProduct,callback:function(t){e.addProduct=t},expression:"addProduct"}},[a("el-radio",{attrs:{label:0}},[e._v("全场通用")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("指定商品")])],1)],1),e._v(" "),1==e.addProduct?a("div",{staticClass:"card"},[a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"添加商品:",prop:"goods_ids"}},[a("el-select",{staticStyle:{width:"620px"},attrs:{placeholder:"请选择商品",multiple:"","collapse-tags":"",filterable:"",clearable:""},model:{value:e.form.goods_ids,callback:function(t){e.$set(e.form,"goods_ids",t)},expression:"form.goods_ids"}},e._l(e.goods,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1),e._v(" "),a("p",{staticClass:"mt20 tips"},[e._v("已关联 "),a("b",{staticStyle:{color:"#000"}},[e._v(e._s(e.form.goods_ids.length))]),e._v(" 件商品")]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"max-height":"400",size:"mini",border:"",data:e.tableData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{width:"100",align:"center",prop:"id",label:"商品编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"table-img",attrs:{src:t.row.thumb},on:{click:function(a){e.previewImg=t.row.thumb,e.visible=!0}}})]}}],null,!1,114475066)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"shop_price",label:"售价（元）"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cost_price",label:"成本价（元）"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){return e.handleDel(t.row.id)}}},[e._v("删除")])]}}],null,!1,1612352432)})],1)],1)],1)]):e._e()],1),e._v(" "),a("div",{staticClass:"complete"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.handelSubmit("form")}}},[e._v("提 交")])],1),e._v(" "),a("PreviewImg",{attrs:{visible:e.visible,imgSrc:e.previewImg},on:{"update:visible":function(t){e.visible=t}}})],1)},staticRenderFns:[]};var h=a("C7Lr")(v,_,!1,function(e){a("8ART")},"data-v-cfd78032",null);t.default=h.exports},E3Tb:function(e,t){},fl7U:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("lC5x"),i=a.n(n),r=a("J0Oq"),o=a.n(r),l=a("4YfN"),s=a.n(l),c=(a("czH5"),a("g8gb")),u=a("AbuJ"),d={name:"Coupon",components:{couponRecord:c.default,addCoupon:u.default},data:function(){return{couponId:"",couponRecordVisible:!1,addCouponVisible:!1,exportOptions:[],loading:!1,opreate:"",options:[{value:"del",label:"删除"}],searchOPtions:[{type:"input",key:"name",placeholder:"优惠券名称"},{type:"select",key:"member_type",placeholder:"使用人群",options:[]},{type:"select",key:"is_overlay",placeholder:"是否叠加",options:[{value:"1",label:"叠加"},{value:"0",label:"不叠加"}]},{type:"dateRangePicker",key:"start_at-end_at",placeholder:"发放时间"},{type:"dateRangePicker",key:"ding_at-ding_at_end",placeholder:"使用时间"}],query:{},current:1,pageSize:10,count:0,tableData:[]}},created:function(){this.getData(),this.memberType()},methods:{addOrEditCoupon:function(e){this.couponId=e,this.addCouponVisible=!0},refesh:function(){this.addCouponVisible=!1,this.couponId="",this.getData()},del:function(e){var t=this;this.$confirm("确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api.activity.couponDel({ids:e}).then(function(){t.getData()})})},showSend:function(e){this.$router.push({name:"sendCoupon",params:{coupon_id:e.id,coupon_name:e.name}})},jumpTo:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add";this.$router.push({name:e,params:{type:t,id:a}})},transForm:function(e){switch(e){case 1:return"限时";case 2:return"永久";case 3:return"定时"}},handelSearch:function(e,t){var a=this;({search:function(){a.query=s()({},t),a.current=1,a.getData()},reset:function(){a.query={},a.pageSize=10,a.current=1,a.getData()}})[e]()},getData:function(){var e=this;return o()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$api.activity.couponList(s()({},e.query,{pagesize:e.pageSize,page:e.current}));case 4:a=t.sent,n=a.data,e.tableData=n.items,e.count=n.count,e.exportOptions=n.fields||[],e.loading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.loading=!1;case 15:case"end":return t.stop()}},t,e,[[0,12]])}))()},memberType:function(){var e=this;return o()(i.a.mark(function t(){var a,n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.activity.memberType({});case 2:a=t.sent,n=a.data,r=0,o=e.searchOPtions.length;case 5:if(!(r<o)){t.next=12;break}if("member_type"!==e.searchOPtions[r].key){t.next=9;break}return e.searchOPtions[r].options=n,t.abrupt("break",12);case 9:r++,t.next=5;break;case 12:case"end":return t.stop()}},t,e)}))()},handlePageChange:function(e){this.current=e,this.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleSelectionChange:function(){}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coupon"},[a("Search",{attrs:{searchOPtions:e.searchOPtions},on:{searchCallback:e.handelSearch}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.add],expression:"[$api.activity.coupon.add]"}],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){return e.addOrEditCoupon()}}},[e._v("添加")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.recordList],expression:"[$api.activity.coupon.recordList]"}],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){e.couponRecordVisible=!0}}},[e._v("记录")]),e._v(" "),a("Export",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.export],expression:"[$api.activity.coupon.export]"}],attrs:{exportOptions:e.exportOptions,query:e.query,url:e.$api.activity.coupon.export}})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"element-loading-spinner":"el-icon-loading","highlight-current-row":!0,border:"",data:e.tableData,"tooltip-effect":"dark","header-cell-style":{background:"#fafafa",border:"none",borderBottom:"1px solid #e8e8e8"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",prop:"name",width:"150",label:"优惠券名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"max",label:"满金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"money",label:"减金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"num",label:"优惠券数量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"user_num",label:"用户限制数量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"是否叠加"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.is_overlay?"可叠加":"不能叠加"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"start_at",width:"140",label:"领取开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("validDateTime")(t.row.start_at)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"end_at",width:"140",label:"领取结束时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("validDateTime")(t.row.end_at)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"start_at",width:"140",label:"使用开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("validDateTime")(t.row.ding_at)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"end_at",width:"140",label:"使用结束时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("validDateTime")(t.row.ding_at_end)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",label:"操作",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.edit],expression:"[$api.activity.coupon.edit]"}],staticClass:"look-word",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){return e.addOrEditCoupon(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("span",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.del],expression:"[$api.activity.coupon.del]"}],staticClass:"look-word",attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.del(t.row.id)}}},[e._v("删除")]),e._v(" "),a("span",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.send],expression:"[$api.activity.coupon.send]"}],staticClass:"look-word",attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.showSend(t.row)}}},[e._v("发放")])]}}])})],1),e._v(" "),a("Pagination",{attrs:{current:e.current,pageSize:e.pageSize,count:e.count},on:{pageChangeCBK:e.handlePageChange,sizeChangeCBK:e.handleSizeChange}}),e._v(" "),a("RightSidePopup",{attrs:{visible:e.couponRecordVisible,width:"80%",noOutside:""},on:{"update:visible":function(t){e.couponRecordVisible=t}}},[a("div",{staticStyle:{"margin-top":"-20px"}},[a("couponRecord")],1)]),e._v(" "),a("RightSidePopup",{attrs:{visible:e.addCouponVisible,width:"1050px",noOutside:""},on:{"update:visible":function(t){e.addCouponVisible=t}}},[a("addCoupon",{attrs:{id:this.couponId},on:{refresh:this.refesh}})],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(d,p,!1,function(e){a("E3Tb")},"data-v-a3c41d0a",null);t.default=m.exports},g8gb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=a.n(n),r={name:"couponRecord",mixins:[a("8Rg7").a],data:function(){return{searchOPtions:[{type:"input",key:"uid",placeholder:"用户id"},{type:"input",key:"cid",placeholder:"优惠券id"},{type:"select",key:"is_used",placeholder:"状态",options:[{value:-1,label:"全部"},{value:0,label:"未使用"},{value:1,label:"已使用"}]}],tableData:[],multipeOptions:[{value:"del",label:"批量删除",type:"danger"}]}},mounted:function(){this.getData()},methods:{toogle:function(e){var t=this;this.$api.activity.couponRecordStatus({is_used:e.is_used,id:e.id}).then(function(e){t.getData()}).catch(function(t){console.log(t),e.is_used=0==e.is_used?1:0})},del:function(e){var t=this;this.$confirm("确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.handleDel(e)})},handleDel:function(e){var t=this;this.$api.activity.couponRecordDel({ids:e}).then(function(e){t.getData()})},handleMultipe:function(e){if(0!==this.multipleSelection.length)switch(e){case"del":this.del(this.multipleSelection.join(","))}else this.$message({message:"请至少选择一条数据",type:"error"})},getData:function(){var e=this;try{this.loading=!0,this.$api.activity.couponRecordList(i()({},this.query,{pageSize:this.pageSize,page:this.current})).then(function(t){e.loading=!1,e.tableData=t.data.items,e.count=t.data.count}).catch(function(t){e.loading=!1})}catch(e){this.loading=!1}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"couponRecord-container"},[a("Search",{attrs:{searchOPtions:e.searchOPtions},on:{searchCallback:e.handelSearch}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"element-loading-spinner":"el-icon-loading","highlight-current-row":!0,border:"",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"id",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"uid",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cid",label:"优惠券ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"coupon_name",width:"180",label:"优惠券名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"coupon_max",label:"满金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"coupon_money",label:"减金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"created_at",width:"140",label:"发放时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"end_time",width:"140",label:"到期时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",width:"100",label:"是否已使用"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.toogle(t.row)}},model:{value:t.row.is_used,callback:function(a){e.$set(t.row,"is_used",a)},expression:"scope.row.is_used"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updated_at",width:"140",label:"使用时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"order_id",label:"订单id"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.order_id||"--")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",prop:"id",width:"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:[e.$api.activity.coupon.recordDel],expression:"[$api.activity.coupon.recordDel]"}],staticClass:"danger-color",attrs:{type:"text"},on:{click:function(a){return a.stopPropagation(),e.del(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("Pagination",{staticStyle:{width:"77% !important"},attrs:{current:e.current,count:e.count,pageSize:e.pageSize,options:e.multipeOptions},on:{pageChangeCBK:e.handlePageChange,sizeChangeCBK:e.handleSizeChange,opreateCBK:e.handleMultipe}})],1)},staticRenderFns:[]},l=a("C7Lr")(r,o,!1,null,null,null);t.default=l.exports}});