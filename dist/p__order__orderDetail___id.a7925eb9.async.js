(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{LtrW:function(e,t,r){e.exports={orderDetailCard:"orderDetailCard___25mcF",headerBtns:"headerBtns___3kxDY",blockTile:"blockTile___3yrog"}},qxNQ:function(e,t,r){"use strict";r.r(t);var a=r("jehZ"),n=r.n(a),o=r("p0pE"),i=r.n(o),c=r("eHn4"),l=r.n(c),s=r("2Taf"),d=r.n(s),u=r("vZ4D"),f=r.n(u),m=r("MhPg"),p=r.n(m),h=r("l4Ni"),y=r.n(h),v=r("ujKo"),g=r.n(v),_=r("q1tI"),E=r.n(_),b=r("Kvkj"),R=(r("IzEo"),r("bx4M")),w=(r("g9YV"),r("wCAj")),x=(r("+L6B"),r("2/Rp")),I=r("9UV2"),M=r.n(I),k=[{title:"\u552e\u540e\u8282\u70b9",dataIndex:"id"},{title:"\u72b6\u6001",dataIndex:"content"},{title:"\u5b8c\u6210\u65f6\u95f4",dataIndex:"created_at"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"deal_name"}],S=function(){return[{title:"\u8d26\u6237\u540d\u79f0",dataIndex:"order_user_name"},{title:"\u5b9e\u4ed8\u91d1\u989d",dataIndex:"actual_fee",render:function(e){return E.a.createElement("span",null,M.a.formatMoney(e,"\uffe5"))}},{title:"\u8fd0\u8d39",dataIndex:"freight_fee",render:function(e){return E.a.createElement("span",null,M.a.formatMoney(e,"\uffe5"))}},{title:"\u8fd0\u8d39\u9669",dataIndex:"insurance_fee"},{title:"\u4f18\u60e0\u660e\u7ec6",dataIndex:"coupon",render:function(e){return E.a.createElement("span",null,"\u7701",M.a.formatMoney(e,"\uffe5"))}}]},C=[{title:"\u6536\u4ef6\u4eba\u59d3\u540d",dataIndex:"11"},{title:"\u8054\u7cfb\u65b9\u5f0f",dataIndex:"receiver_mobile"},{title:"\u6536\u8d27\u5730\u5740",dataIndex:"receiver_name"}],D=[{title:"\u65f6\u95f4",dataIndex:"receiver_mobile"},{title:"\u6765\u6e90",dataIndex:"receiver_name"},{title:"\u5145\u503c\u91d1\u989d",dataIndex:"receiver_mobile"},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"receiver_name"}],A=[{title:"\u65f6\u95f4",dataIndex:"receiver_mobile"},{title:"\u63d0\u73b0\u81f3",dataIndex:"receiver_name"},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"receiver_mobile"},{title:"\u63d0\u73b0\u91d1\u989d",dataIndex:"receiver_name"},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"receiver_name"}],P=[{title:"\u65f6\u95f4",dataIndex:"receiver_name"},{title:"\u8ba2\u5355\u53f7",dataIndex:"receiver_name"},{title:"\u8ba2\u5355\u7c7b\u578b",dataIndex:"receiver_name"},{title:"\u5546\u54c1",dataIndex:"receiver_name"},{title:"\u6d88\u8d39\u91d1\u989d",dataIndex:"receiver_name"},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"receiver_name"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"receiver_name"}],O={receiveAddress:{title:"\u6536\u8d27\u5730\u5740",width:600,columns:C},rechargeRecord:{title:"\u8d26\u6237\u5145\u503c\u8bb0\u5f55",width:600,columns:D},withdrawRecord:{title:"\u8d26\u6237\u63d0\u73b0\u8bb0\u5f55",width:600,columns:A},payRecord:{title:"\u6d88\u8d39\u8bb0\u5f55",width:950,columns:P}},T=r("LtrW"),L=r.n(T);function j(e){return function(){var t,r=g()(e);if(N()){var a=g()(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return y()(this,t)}}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var B=function(e){p()(r,e);var t=j(r);function r(){var e;d()(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),e.state={},e}return f()(r,[{key:"render",value:function(){var e=this.props,t=e.showAfterSaleOrder,r=e.order,a=e.loading,n=r.sale_record||[],o={rowKey:function(e,t){return t},dataSource:n,columns:k,pagination:!1};return E.a.createElement(R["a"],{title:"\u552e\u540e\u4fe1\u606f",extra:n.length&&$api.order.getAfterSaleDetail.permission()?E.a.createElement(x["a"],{onClick:t,loading:a},"\u67e5\u770b\u552e\u540e\u5355"):"",className:L.a.orderDetailCard},E.a.createElement(w["a"],o))}}]),r}(E.a.PureComponent),K=B;function F(e){return function(){var t,r=g()(e);if(q()){var a=g()(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return y()(this,t)}}function q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var G=function(e){p()(r,e);var t=F(r);function r(){var e;d()(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),e.state={},e.showTable=function(t){e.props.showTable(t)},e}return f()(r,[{key:"render",value:function(){var e=this.props.finance,t={rowKey:function(e,t){return t},dataSource:[e],columns:S.call(this),pagination:!1};return E.a.createElement(R["a"],{title:"\u8d22\u52a1\u4fe1\u606f",className:L.a.orderDetailCard},E.a.createElement(w["a"],t))}}]),r}(E.a.PureComponent),H=G,J=(r("bP8k"),r("gFTJ"));function V(e){return function(){var t,r=g()(e);if($()){var a=g()(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return y()(this,t)}}function $(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var W=function(e){p()(r,e);var t=V(r);function r(){return d()(this,r),t.apply(this,arguments)}return f()(r,[{key:"render",value:function(){var e=this.props,t=e.showModal,r=e.order,a=r.logistics_info&&r.logistics_info.content||[],n="-";return a.length>0&&(n="".concat(a[0].time||""," ").concat(a[0].text||"")),E.a.createElement(R["a"],{title:"\u5f53\u524d\u72b6\u6001\uff1a".concat(r.status_name),className:L.a.orderDetailCard},E.a.createElement(J["a"],{title:"\u6536\u8d27\u4eba\u4fe1\u606f"},E.a.createElement(J["a"].Item,{label:"\u8054\u7cfb\u4eba"},r.receiver_name),E.a.createElement(J["a"].Item,{label:"\u8054\u7cfb\u65b9\u5f0f"},r.receiver_mobile),E.a.createElement(J["a"].Item,{label:"\u8054\u7cfb\u5730\u5740"},r.receiver_province_name,r.receiver_city_name,r.receiver_district_name,r.receiver_address)),E.a.createElement(J["a"],{title:"\u7269\u6d41\u4fe1\u606f"},E.a.createElement(J["a"].Item,{label:"\u7269\u6d41\u516c\u53f8"},r.logistics_name||"-"),E.a.createElement(J["a"].Item,{label:"\u5feb\u9012\u5355\u53f7",span:2},r.logistics_sn||"-"),E.a.createElement(J["a"].Item,{label:"\u7269\u6d41\u8ddf\u8e2a",span:3},a&&!!a.length&&E.a.createElement("a",{onClick:function(){t("logisticsTrailModal")}},n,"\uff08\u67e5\u770b\u8be6\u60c5\uff09"),(!a||!a.length)&&"-")))}}]),r}(E.a.PureComponent),z=W,Y=r("sN4e"),Z=r("H8hH"),Q=r("TRq2");function U(e){return function(){var t,r=g()(e);if(X()){var a=g()(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return y()(this,t)}}function X(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var ee=function(e){p()(r,e);var t=U(r);function r(){var e;d()(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),e.state={},e}return f()(r,[{key:"render",value:function(){var e={order:this.props.order,removeFields:["operate"]};return E.a.createElement(R["a"],{title:"\u8ba2\u5355\u57fa\u672c\u4fe1\u606f",className:L.a.orderDetailCard},E.a.createElement(Z["c"],{fields:Object(Q["a"])(["operate"])}),E.a.createElement(Y["a"],e))}}]),r}(E.a.PureComponent),te=ee,re=(r("14J3"),r("BMrR")),ae=(r("jCWc"),r("kPKH")),ne=r("dj3y");function oe(e){return function(){var t,r=g()(e);if(ie()){var a=g()(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return y()(this,t)}}function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var ce,le,se,de=function(e){p()(r,e);var t=oe(r);function r(){var e;d()(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),e.state={},e.getBtn=function(){var t=e.props,r=t.showModal,a=t.order,n=t.checkApply,o=t.loading;return E.a.createElement("div",{className:L.a.headerBtns},Object(ne["e"])("modifyAddress",a.status)&&E.a.createElement(x["a"],{onClick:function(){r("modifyAddressModal")}},"\u4fee\u6539\u5730\u5740"),Object(ne["e"])("modifyLogistics",a.status)&&E.a.createElement(x["a"],{onClick:function(){r("modifyLogisticsModal")}},"\u4fee\u6539\u7269\u6d41"),Object(ne["e"])("applyAfterSale",a.status)&&E.a.createElement(x["a"],{onClick:function(){n()},loading:o},"\u7533\u8bf7\u552e\u540e"),Object(ne["e"])("modifyRemarks",a.status)&&E.a.createElement(x["a"],{onClick:function(){r("modifyRemarksModal")}},"\u8ba2\u5355\u5907\u6ce8"),Object(ne["e"])("sendGoods",a.status)&&E.a.createElement(x["a"],{onClick:function(){r("sendGoodsModal")}},"\u4e00\u952e\u53d1\u8d27"))},e}return f()(r,[{key:"render",value:function(){var e=this.props.order,t=function(){return E.a.createElement("div",null,E.a.createElement(b["n"],{type:"icondingdan",style:{color:"#12C2C2",verticalAlign:"middle",fontSize:18}}),"\xa0",E.a.createElement("span",{style:{verticalAlign:"middle"}},"\u8ba2\u5355\u53f7\uff1a",e.order_sn,"\xa0\xa0",e.status_name," \xa0\xa0",M.a.formatMoney(e.actual_fee,"\uffe5")))};return E.a.createElement(R["a"],{headStyle:{borderBottom:"none"},title:t(),extra:this.getBtn(),className:L.a.header},E.a.createElement(re["a"],null,E.a.createElement(ae["a"],null,E.a.createElement(J["a"],null,E.a.createElement(J["a"].Item,{label:"\u7528\u6237\u540d\u79f0"},e.nick_name),E.a.createElement(J["a"].Item,{label:"\u652f\u4ed8\u65b9\u5f0f"},e.pay_type_name),E.a.createElement(J["a"].Item,{label:"\u8ba2\u5355\u6765\u6e90"},e.from_name),E.a.createElement(J["a"].Item,{label:"\u4ed8\u6b3e\u65f6\u95f4"},e.pay_time||"-"),E.a.createElement(J["a"].Item,{label:"\u53d1\u8d27\u65f6\u95f4"},e.send_time||"-"),E.a.createElement(J["a"].Item,{label:"\u6210\u4ea4\u65f6\u95f4"},e.take_time||"-")))))}}]),r}(E.a.PureComponent),ue=de,fe=(r("2qtc"),r("kLXV")),me=r("MuoO");function pe(e){return function(){var t,r=g()(e);if(he()){var a=g()(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return y()(this,t)}}function he(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}ce=Object(me["connect"])(function(e){var t=e.orderDetail,r=e.loading;return{orderDetail:t,loading:r}}),ce((se=function(e){p()(r,e);var t=pe(r);function r(){var e;d()(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),e.state={list:[]},e}return f()(r,[{key:"getList",value:function(){console.log(this.props);var e=this.props.type;switch(e){case"receiveAddress":break;case"rechargeRecord":break;case"withdrawRecord":break;case"payRecord":break}return[]}},{key:"render",value:function(){var e=this.state.list,t=this.props,r=t.type,a=t.hideTable,n=O[r]||{},o={rowKey:function(e,t){return t},dataSource:e,columns:n.columns||[],pagination:!1},i={title:n.title,width:n.width,visible:!!r,footer:null,onCancel:a};return E.a.createElement(fe["a"],i,E.a.createElement(w["a"],o))}}]),r}(E.a.PureComponent),le=se));function ye(e){return function(){var t,r=g()(e);if(ve()){var a=g()(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return y()(this,t)}}function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var ge=function(e){p()(r,e);var t=ye(r);function r(e){var a;return d()(this,r),a=t.call(this,e),a.getOrderDetail=function(){var e=a.props.match.params.id;$api.order.getOrderDetail({id:e}).then(function(e){var t=e.data;a.setState({order:t})})},a.showTable=function(e){a.setState({type:e})},a.hideTable=function(){a.setState({type:null})},a.checkApply=function(){var e=a.state.order;$api.order.checkApply({order_id:e.id},{loadingFn:a.toogleLoading}).then(function(t){var r=t.data;a.setState({applyAfterSaleProps:{goods_info:r.goods_info,order:e}}),a.showModal("applyAfterSaleModal")})},a.getAfterSaleDetail=function(){var e=a.state.order;$api.order.getAfterSaleDetail({id:e.sale_id},{loadingFn:a.toogleLoading}).then(function(e){var t=e.data;a.setState({afterSaleOrderProps:t}),a.showModal("afterSaleOrderModal")})},a.toogleLoading=function(e){a.setState({loading:e})},a.showModal=function(e){a.setState(l()({},e,!0))},a.hideModal=function(e){a.setState(l()({},e,!1))},a.getCommonProps=function(e){return{order:a.state.order,modalVisible:a.state[e],onCancel:function(){a.hideModal(e)},successCallback:a.getOrderDetail}},a.state={btnLoading:!1,order:{},type:null,afterSaleOrderModal:!1,cancelOrderModal:!1,modifyAddressModal:!1,modifyLogisticsModal:!1,applyAfterSaleModal:!1,modifyRemarksModal:!1,sendGoodsModal:!1,logisticsTrailModal:!1,applyAfterSaleProps:{},afterSaleOrderProps:{}},a}return f()(r,[{key:"componentDidMount",value:function(){this.getOrderDetail()}},{key:"render",value:function(){var e=this.state,t=e.type,r=e.order,a=e.btnLoading,o=e.afterSaleOrderProps,c={order:r,showModal:this.showModal,checkApply:this.checkApply,loading:a},l={order:r,showTable:this.showTable,showModal:this.showModal},s={finance:r.finance||[],showTable:this.showTable},d={loading:a,order:r,showAfterSaleOrder:this.getAfterSaleDetail},u=i()({},this.getCommonProps("logisticsTrailModal"),{logistics:r.logistics_info||[]});this.hideTable;return E.a.createElement(b["x"],null,E.a.createElement(ue,c),E.a.createElement(te,{order:r}),E.a.createElement(z,l),E.a.createElement(H,s),E.a.createElement(K,d),E.a.createElement(Z["d"],u),E.a.createElement(Z["i"],this.getCommonProps("sendGoodsModal")),E.a.createElement(Z["g"],this.getCommonProps("modifyRemarksModal")),E.a.createElement(Z["b"],n()({},this.getCommonProps("applyAfterSaleModal"),this.state.applyAfterSaleProps)),E.a.createElement(Z["f"],this.getCommonProps("modifyLogisticsModal")),E.a.createElement(Z["e"],this.getCommonProps("modifyAddressModal")),E.a.createElement(Z["a"],n()({},this.getCommonProps("afterSaleOrderModal"),{order:o})))}}]),r}(_["PureComponent"]);t["default"]=ge}}]);