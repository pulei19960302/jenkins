(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58],{XfVg:function(e,t,a){"use strict";a.r(t);var n=a("d6i3"),r=a.n(n),s=a("Y/ft"),i=a.n(s),p=a("p0pE"),c=a.n(p),u=a("GIZZ"),o=a.n(u),d=a("3Unq"),l=a("7Qib");t["default"]=o()(d["a"],d["b"],{namespace:"members",state:{treeData:[],query:{},searchDepartment:"\u6240\u6709\u90e8\u95e8",selectedKeys:[],expandedKeys:[],list:[]},subscriptions:{setup:function(e){e.dispatch;var t=e.history;t.listen(function(e){e.pathname})}},effects:{getList:r.a.mark(function e(t,a){var n,s,p,u,o,d,l,m,g,f,y,w,h,b,x;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.put,p=a.call,u=a.select,e.next=4,u(function(e){return e.members});case 4:return o=e.sent,d=o.pagination,l=o.query,m=o.selectedKeys,g=d.pageSize,f=d.current,y=c()({pageSize:g,page:f,department_id:m[0]||""},l,n),w=y.pageSize,h=i()(y,["pageSize"]),e.next=13,p($api.permissions.getMemberList,c()({page_size:w},h));case 13:return b=e.sent,x=b.data,e.next=17,s({type:"querySuccess",payload:{list:x&&x.data,pagination:{total:x&&x.total,current:y.page,pageSize:y.pageSize}}});case 17:case"end":return e.stop()}},e)}),getDepartmentList:r.a.mark(function e(t,a){var n,s,i,p,c;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,n=a.put,s=a.call,a.select,e.next=4,s($api.permissions.getDepartmentList);case 4:return i=e.sent,p=i.data,c=p.map(function(e){return e.value=e.id,e.title=e.department_name,e}),e.next=9,n({type:"updateState",payload:{treeData:Object(l["a"])(c,"id","parent_id","children")}});case 9:case"end":return e.stop()}},e)})}})}}]);